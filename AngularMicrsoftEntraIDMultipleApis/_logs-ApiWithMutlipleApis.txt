2023-11-28 19:39:10.342 +01:00 [Debug] [Microsoft.AspNetCore.Mvc.ModelBinding.ModelBinderFactory] [{ Id: 12, Name: "RegisteredModelBinderProviders" }] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-11-28 19:39:10.767 +01:00 [Debug] [Microsoft.Extensions.Hosting.Internal.Host] [{ Id: 1, Name: "Starting" }] Hosting starting
2023-11-28 19:39:10.807 +01:00 [Information] [Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] [{ Id: 63, Name: "UsingProfileAsKeyRepositoryWithDPAPI" }] User profile is available. Using '"C:\Users\damien.bowden\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2023-11-28 19:39:10.814 +01:00 [Debug] [Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository] [{ Id: 37, Name: "ReadingDataFromFile" }] Reading data from file '"C:\Users\damien.bowden\AppData\Local\ASP.NET\DataProtection-Keys\key-04c73800-881f-4d37-986f-e3a2e24c6d62.xml"'.
2023-11-28 19:39:10.822 +01:00 [Debug] [Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository] [{ Id: 37, Name: "ReadingDataFromFile" }] Reading data from file '"C:\Users\damien.bowden\AppData\Local\ASP.NET\DataProtection-Keys\key-2266f5e5-28e1-40ea-9769-9b518e29f239.xml"'.
2023-11-28 19:39:10.823 +01:00 [Debug] [Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository] [{ Id: 37, Name: "ReadingDataFromFile" }] Reading data from file '"C:\Users\damien.bowden\AppData\Local\ASP.NET\DataProtection-Keys\key-61d21e9b-1591-4eb5-be0a-ee13d8061e5a.xml"'.
2023-11-28 19:39:10.824 +01:00 [Debug] [Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository] [{ Id: 37, Name: "ReadingDataFromFile" }] Reading data from file '"C:\Users\damien.bowden\AppData\Local\ASP.NET\DataProtection-Keys\key-760399f9-c312-46b9-b50a-33a2cfb07480.xml"'.
2023-11-28 19:39:10.825 +01:00 [Debug] [Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository] [{ Id: 37, Name: "ReadingDataFromFile" }] Reading data from file '"C:\Users\damien.bowden\AppData\Local\ASP.NET\DataProtection-Keys\key-7f1f6d3d-923c-40d4-82a8-a0a375c85f29.xml"'.
2023-11-28 19:39:10.825 +01:00 [Debug] [Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository] [{ Id: 37, Name: "ReadingDataFromFile" }] Reading data from file '"C:\Users\damien.bowden\AppData\Local\ASP.NET\DataProtection-Keys\key-9d4299ed-ce87-44f5-a633-8e954de65334.xml"'.
2023-11-28 19:39:10.826 +01:00 [Debug] [Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository] [{ Id: 37, Name: "ReadingDataFromFile" }] Reading data from file '"C:\Users\damien.bowden\AppData\Local\ASP.NET\DataProtection-Keys\key-9f2d0842-15fa-4f4d-abf7-df6f066b3ae9.xml"'.
2023-11-28 19:39:10.827 +01:00 [Debug] [Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository] [{ Id: 37, Name: "ReadingDataFromFile" }] Reading data from file '"C:\Users\damien.bowden\AppData\Local\ASP.NET\DataProtection-Keys\key-c590f6ed-744d-4b96-aaae-d535747ddff3.xml"'.
2023-11-28 19:39:10.827 +01:00 [Debug] [Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository] [{ Id: 37, Name: "ReadingDataFromFile" }] Reading data from file '"C:\Users\damien.bowden\AppData\Local\ASP.NET\DataProtection-Keys\key-d0146d4a-028e-49fc-9b4e-402571bb6180.xml"'.
2023-11-28 19:39:10.828 +01:00 [Debug] [Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository] [{ Id: 37, Name: "ReadingDataFromFile" }] Reading data from file '"C:\Users\damien.bowden\AppData\Local\ASP.NET\DataProtection-Keys\key-e4570dbe-cb15-4ba6-8107-86fd09f15e98.xml"'.
2023-11-28 19:39:10.829 +01:00 [Debug] [Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository] [{ Id: 37, Name: "ReadingDataFromFile" }] Reading data from file '"C:\Users\damien.bowden\AppData\Local\ASP.NET\DataProtection-Keys\key-f1ded647-d5d1-4bc8-ba60-103daa35bb0c.xml"'.
2023-11-28 19:39:10.833 +01:00 [Debug] [Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] [{ Id: 18, Name: "FoundKey" }] Found key {04c73800-881f-4d37-986f-e3a2e24c6d62}.
2023-11-28 19:39:10.840 +01:00 [Debug] [Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] [{ Id: 18, Name: "FoundKey" }] Found key {2266f5e5-28e1-40ea-9769-9b518e29f239}.
2023-11-28 19:39:10.841 +01:00 [Debug] [Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] [{ Id: 18, Name: "FoundKey" }] Found key {61d21e9b-1591-4eb5-be0a-ee13d8061e5a}.
2023-11-28 19:39:10.842 +01:00 [Debug] [Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] [{ Id: 18, Name: "FoundKey" }] Found key {760399f9-c312-46b9-b50a-33a2cfb07480}.
2023-11-28 19:39:10.842 +01:00 [Debug] [Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] [{ Id: 18, Name: "FoundKey" }] Found key {7f1f6d3d-923c-40d4-82a8-a0a375c85f29}.
2023-11-28 19:39:10.843 +01:00 [Debug] [Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] [{ Id: 18, Name: "FoundKey" }] Found key {9d4299ed-ce87-44f5-a633-8e954de65334}.
2023-11-28 19:39:10.843 +01:00 [Debug] [Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] [{ Id: 18, Name: "FoundKey" }] Found key {9f2d0842-15fa-4f4d-abf7-df6f066b3ae9}.
2023-11-28 19:39:10.844 +01:00 [Debug] [Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] [{ Id: 18, Name: "FoundKey" }] Found key {c590f6ed-744d-4b96-aaae-d535747ddff3}.
2023-11-28 19:39:10.844 +01:00 [Debug] [Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] [{ Id: 18, Name: "FoundKey" }] Found key {d0146d4a-028e-49fc-9b4e-402571bb6180}.
2023-11-28 19:39:10.845 +01:00 [Debug] [Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] [{ Id: 18, Name: "FoundKey" }] Found key {e4570dbe-cb15-4ba6-8107-86fd09f15e98}.
2023-11-28 19:39:10.846 +01:00 [Debug] [Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] [{ Id: 18, Name: "FoundKey" }] Found key {f1ded647-d5d1-4bc8-ba60-103daa35bb0c}.
2023-11-28 19:39:10.855 +01:00 [Debug] [Microsoft.AspNetCore.DataProtection.KeyManagement.DefaultKeyResolver] [{ Id: 13, Name: "ConsideringKeyWithExpirationDateAsDefaultKey" }] Considering key {7f1f6d3d-923c-40d4-82a8-a0a375c85f29} with expiration date 2023-12-13 08:39:59Z as default key.
2023-11-28 19:39:10.859 +01:00 [Debug] [Microsoft.AspNetCore.DataProtection.TypeForwardingActivator] [] Forwarded activator type request from "Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60" to "Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60"
2023-11-28 19:39:10.861 +01:00 [Debug] [Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor] [{ Id: 51, Name: "DecryptingSecretElementUsingWindowsDPAPI" }] Decrypting secret element using Windows DPAPI.
2023-11-28 19:39:10.863 +01:00 [Debug] [Microsoft.AspNetCore.DataProtection.TypeForwardingActivator] [] Forwarded activator type request from "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60" to "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60"
2023-11-28 19:39:10.870 +01:00 [Debug] [Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.CngCbcAuthenticatedEncryptorFactory] [{ Id: 4, Name: "OpeningCNGAlgorithmFromProviderWithChainingModeCBC" }] Opening CNG algorithm '"AES"' from provider 'null' with chaining mode CBC.
2023-11-28 19:39:10.872 +01:00 [Debug] [Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.CngCbcAuthenticatedEncryptorFactory] [{ Id: 3, Name: "OpeningCNGAlgorithmFromProviderWithHMAC" }] Opening CNG algorithm '"SHA256"' from provider 'null' with HMAC.
2023-11-28 19:39:10.874 +01:00 [Debug] [Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider] [{ Id: 2, Name: "UsingKeyAsDefaultKey" }] Using key {7f1f6d3d-923c-40d4-82a8-a0a375c85f29} as the default key.
2023-11-28 19:39:10.876 +01:00 [Debug] [Microsoft.AspNetCore.DataProtection.Internal.DataProtectionHostedService] [{ Id: 65, Name: "KeyRingWasLoadedOnStartup" }] Key ring with default key {7f1f6d3d-923c-40d4-82a8-a0a375c85f29} was loaded during application startup.
2023-11-28 19:39:11.160 +01:00 [Information] [Microsoft.Hosting.Lifetime] [{ Id: 14, Name: "ListeningOnAddress" }] Now listening on: "https://localhost:44390"
2023-11-28 19:39:11.161 +01:00 [Debug] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 13, Name: "HostingStartupAssemblyLoaded" }] Loaded hosting startup assembly "ApiWithMutlipleApis"
2023-11-28 19:39:11.161 +01:00 [Debug] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 13, Name: "HostingStartupAssemblyLoaded" }] Loaded hosting startup assembly "Microsoft.AspNetCore.Watch.BrowserRefresh"
2023-11-28 19:39:11.162 +01:00 [Debug] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 13, Name: "HostingStartupAssemblyLoaded" }] Loaded hosting startup assembly "Microsoft.WebTools.BrowserLink.Net"
2023-11-28 19:39:11.162 +01:00 [Information] [Microsoft.Hosting.Lifetime] [] Application started. Press Ctrl+C to shut down.
2023-11-28 19:39:11.163 +01:00 [Information] [Microsoft.Hosting.Lifetime] [] Hosting environment: "Development"
2023-11-28 19:39:11.163 +01:00 [Information] [Microsoft.Hosting.Lifetime] [] Content root path: "C:\repos\git\damienbod\AzureADAuthRazorUiServiceApiCertificate\AngularAzureADMultipleApis\ApiWithMutlipleApis"
2023-11-28 19:39:11.163 +01:00 [Debug] [Microsoft.Extensions.Hosting.Internal.Host] [{ Id: 2, Name: "Started" }] Hosting started
2023-11-28 19:39:11.308 +01:00 [Debug] [Microsoft.AspNetCore.Server.Kestrel.Connections] [{ Id: 39, Name: "ConnectionAccepted" }] Connection id ""0HMVG85843CGO"" accepted.
2023-11-28 19:39:11.308 +01:00 [Debug] [Microsoft.AspNetCore.Server.Kestrel.Connections] [{ Id: 39, Name: "ConnectionAccepted" }] Connection id ""0HMVG85843CGP"" accepted.
2023-11-28 19:39:11.313 +01:00 [Debug] [Microsoft.AspNetCore.Server.Kestrel.Connections] [{ Id: 1, Name: "ConnectionStart" }] Connection id ""0HMVG85843CGP"" started.
2023-11-28 19:39:11.313 +01:00 [Debug] [Microsoft.AspNetCore.Server.Kestrel.Connections] [{ Id: 1, Name: "ConnectionStart" }] Connection id ""0HMVG85843CGO"" started.
2023-11-28 19:39:21.836 +01:00 [Debug] [Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware] [{ Id: 2, Name: "AuthenticationTimedOut" }] Authentication of the HTTPS connection timed out.
2023-11-28 19:39:21.836 +01:00 [Debug] [Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware] [{ Id: 2, Name: "AuthenticationTimedOut" }] Authentication of the HTTPS connection timed out.
2023-11-28 19:39:21.844 +01:00 [Debug] [Microsoft.AspNetCore.Server.Kestrel.Connections] [{ Id: 2, Name: "ConnectionStop" }] Connection id ""0HMVG85843CGO"" stopped.
2023-11-28 19:39:21.844 +01:00 [Debug] [Microsoft.AspNetCore.Server.Kestrel.Connections] [{ Id: 2, Name: "ConnectionStop" }] Connection id ""0HMVG85843CGP"" stopped.
2023-11-28 19:39:21.848 +01:00 [Debug] [Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets] [{ Id: 7, Name: "ConnectionWriteFin" }] Connection id ""0HMVG85843CGO"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2023-11-28 19:39:21.848 +01:00 [Debug] [Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets] [{ Id: 7, Name: "ConnectionWriteFin" }] Connection id ""0HMVG85843CGP"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2023-11-28 19:39:24.376 +01:00 [Debug] [Microsoft.AspNetCore.Server.Kestrel.Connections] [{ Id: 39, Name: "ConnectionAccepted" }] Connection id ""0HMVG85843CGQ"" accepted.
2023-11-28 19:39:24.379 +01:00 [Debug] [Microsoft.AspNetCore.Server.Kestrel.Connections] [{ Id: 1, Name: "ConnectionStart" }] Connection id ""0HMVG85843CGQ"" started.
2023-11-28 19:39:24.543 +01:00 [Debug] [Microsoft.AspNetCore.Server.Kestrel.Connections] [{ Id: 39, Name: "ConnectionAccepted" }] Connection id ""0HMVG85843CGR"" accepted.
2023-11-28 19:39:24.579 +01:00 [Debug] [Microsoft.AspNetCore.Server.Kestrel.Connections] [{ Id: 1, Name: "ConnectionStart" }] Connection id ""0HMVG85843CGR"" started.
2023-11-28 19:39:24.802 +01:00 [Debug] [Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware] [{ Id: 3, Name: "HttpsConnectionEstablished" }] Connection "0HMVG85843CGR" established using the following protocol: Tls13
2023-11-28 19:39:24.802 +01:00 [Debug] [Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware] [{ Id: 3, Name: "HttpsConnectionEstablished" }] Connection "0HMVG85843CGQ" established using the following protocol: Tls13
2023-11-28 19:39:25.059 +01:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1 }] Request starting "HTTP/2" "GET" "https"://"localhost:44390""""/""" - null null
2023-11-28 19:39:25.554 +01:00 [Debug] [Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware] [{ Name: "WildcardDetected" }] Wildcard detected, all requests with hosts will be allowed.
2023-11-28 19:39:25.600 +01:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2 }] Request finished "HTTP/2" "GET" "https"://"localhost:44390""""/""" - 301 0 null 554.3456ms
2023-11-28 19:39:25.621 +01:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1 }] Request starting "HTTP/2" "GET" "https"://"localhost:44390""""/index.html""" - null null
2023-11-28 19:39:25.885 +01:00 [Debug] [Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware] [{ Id: 1, Name: "SetUpResponseForBrowserRefresh" }] Response markup is scheduled to include browser refresh script injection.
2023-11-28 19:39:25.947 +01:00 [Debug] [Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware] [{ Id: 2, Name: "BrowserConfiguredForRefreshes" }] Response markup was updated to include browser refresh script injection.
2023-11-28 19:39:25.956 +01:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2 }] Request finished "HTTP/2" "GET" "https"://"localhost:44390""""/index.html""" - 200 null "text/html;charset=utf-8" 334.8475ms
2023-11-28 19:39:25.961 +01:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1 }] Request starting "HTTP/2" "GET" "https"://"localhost:44390""""/swagger-ui.css""" - null null
2023-11-28 19:39:25.962 +01:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1 }] Request starting "HTTP/2" "GET" "https"://"localhost:44390""""/swagger-ui-bundle.js""" - null null
2023-11-28 19:39:25.991 +01:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1 }] Request starting "HTTP/2" "GET" "https"://"localhost:44390""""/swagger-ui-standalone-preset.js""" - null null
2023-11-28 19:39:26.050 +01:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1 }] Request starting "HTTP/2" "GET" "https"://"localhost:44390""""/_vs/browserLink""" - null null
2023-11-28 19:39:26.050 +01:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1 }] Request starting "HTTP/2" "GET" "https"://"localhost:44390""""/_framework/aspnetcore-browser-refresh.js""" - null null
2023-11-28 19:39:26.163 +01:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2 }] Request finished "HTTP/2" "GET" "https"://"localhost:44390""""/_framework/aspnetcore-browser-refresh.js""" - 200 13774 "application/javascript; charset=utf-8" 115.3771ms
2023-11-28 19:39:26.218 +01:00 [Information] [Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware] [{ Id: 2, Name: "FileServed" }] Sending file. Request path: '"/swagger-ui.css"'. Physical path: '"N/A"'
2023-11-28 19:39:26.231 +01:00 [Information] [Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware] [{ Id: 2, Name: "FileServed" }] Sending file. Request path: '"/swagger-ui-standalone-preset.js"'. Physical path: '"N/A"'
2023-11-28 19:39:26.234 +01:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2 }] Request finished "HTTP/2" "GET" "https"://"localhost:44390""""/swagger-ui-standalone-preset.js""" - 200 312163 "text/javascript" 242.4041ms
2023-11-28 19:39:26.234 +01:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2 }] Request finished "HTTP/2" "GET" "https"://"localhost:44390""""/swagger-ui.css""" - 200 144929 "text/css" 273.4287ms
2023-11-28 19:39:26.347 +01:00 [Information] [Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware] [{ Id: 2, Name: "FileServed" }] Sending file. Request path: '"/swagger-ui-bundle.js"'. Physical path: '"N/A"'
2023-11-28 19:39:26.348 +01:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2 }] Request finished "HTTP/2" "GET" "https"://"localhost:44390""""/swagger-ui-bundle.js""" - 200 1061536 "text/javascript" 386.2994ms
2023-11-28 19:39:26.400 +01:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2 }] Request finished "HTTP/2" "GET" "https"://"localhost:44390""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 352.5191ms
2023-11-28 19:39:26.841 +01:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1 }] Request starting "HTTP/2" "GET" "https"://"localhost:44390""""/swagger/v1/swagger.json""" - null null
2023-11-28 19:39:27.093 +01:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2 }] Request finished "HTTP/2" "GET" "https"://"localhost:44390""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 252.0487ms
2023-11-28 19:40:46.230 +01:00 [Debug] [Microsoft.AspNetCore.Server.Kestrel.Connections] [{ Id: 39, Name: "ConnectionAccepted" }] Connection id ""0HMVG85843CGS"" accepted.
2023-11-28 19:40:46.233 +01:00 [Debug] [Microsoft.AspNetCore.Server.Kestrel.Connections] [{ Id: 1, Name: "ConnectionStart" }] Connection id ""0HMVG85843CGS"" started.
2023-11-28 19:40:46.246 +01:00 [Debug] [Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware] [{ Id: 3, Name: "HttpsConnectionEstablished" }] Connection "0HMVG85843CGS" established using the following protocol: Tls13
2023-11-28 19:40:46.307 +01:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1 }] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:44390""""/DirectApi""" - null null
2023-11-28 19:40:46.326 +01:00 [Debug] [Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware] [{ Id: 1, Name: "MethodNotSupported" }] "OPTIONS" requests are not supported
2023-11-28 19:40:46.338 +01:00 [Debug] [Microsoft.AspNetCore.Cors.Infrastructure.CorsService] [{ Id: 2, Name: "RequestHasOriginHeader" }] The request has an origin header: '"https://localhost:4200"'.
2023-11-28 19:40:46.340 +01:00 [Information] [Microsoft.AspNetCore.Cors.Infrastructure.CorsService] [{ Id: 4, Name: "PolicySuccess" }] CORS policy execution successful.
2023-11-28 19:40:46.341 +01:00 [Debug] [Microsoft.AspNetCore.Cors.Infrastructure.CorsService] [{ Id: 1, Name: "IsPreflightRequest" }] The request is a preflight request.
2023-11-28 19:40:46.343 +01:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2 }] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:44390""""/DirectApi""" - 204 null null 36.0967ms
2023-11-28 19:40:46.347 +01:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1 }] Request starting "HTTP/2" "GET" "https"://"localhost:44390""""/DirectApi""" - null null
2023-11-28 19:40:46.347 +01:00 [Debug] [Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware] [{ Id: 4, Name: "FileTypeNotSupported" }] The request path "/DirectApi" does not match a supported file type
2023-11-28 19:40:46.350 +01:00 [Debug] [Microsoft.AspNetCore.Cors.Infrastructure.CorsService] [{ Id: 2, Name: "RequestHasOriginHeader" }] The request has an origin header: '"https://localhost:4200"'.
2023-11-28 19:40:46.350 +01:00 [Information] [Microsoft.AspNetCore.Cors.Infrastructure.CorsService] [{ Id: 4, Name: "PolicySuccess" }] CORS policy execution successful.
2023-11-28 19:40:46.387 +01:00 [Debug] [Microsoft.AspNetCore.Routing.Matching.DfaMatcher] [{ Id: 1001, Name: "CandidatesFound" }] 1 candidate(s) found for the request path '"/DirectApi"'
2023-11-28 19:40:46.390 +01:00 [Debug] [Microsoft.AspNetCore.Routing.Matching.DfaMatcher] [{ Id: 1005, Name: "CandidateValid" }] Endpoint '"ApiWithMutlipleApis.Controllers.DirectApiController.Get (ApiWithMutlipleApis)"' with route pattern '"DirectApi"' is valid for the request path '"/DirectApi"'
2023-11-28 19:40:46.391 +01:00 [Debug] [Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware] [{ Id: 1, Name: "MatchSuccess" }] Request matched endpoint '"ApiWithMutlipleApis.Controllers.DirectApiController.Get (ApiWithMutlipleApis)"'
2023-11-28 19:40:47.627 +01:00 [Debug] [Microsoft.IdentityModel.LoggingExtensions.IdentityLoggerAdapter] [] Microsoft.IdentityModel Version: 7.0.3.0. Date 11/28/2023 18:40:47. PII logging is ON, do not use in production. See https://aka.ms/IdentityModel/PII for details. 
IDX20805: Obtaining information from metadata endpoint: 'https://login.microsoftonline.com/7ff95b15-dc21-4ba6-bc92-824856578fc1/v2.0/.well-known/openid-configuration'.
2023-11-28 19:40:48.554 +01:00 [Debug] [Microsoft.IdentityModel.LoggingExtensions.IdentityLoggerAdapter] [] IDX21811: Deserializing the string: '{"token_endpoint":"https://login.microsoftonline.com/7ff95b15-dc21-4ba6-bc92-824856578fc1/oauth2/v2.0/token","token_endpoint_auth_methods_supported":["client_secret_post","private_key_jwt","client_secret_basic"],"jwks_uri":"https://login.microsoftonline.com/7ff95b15-dc21-4ba6-bc92-824856578fc1/discovery/v2.0/keys","response_modes_supported":["query","fragment","form_post"],"subject_types_supported":["pairwise"],"id_token_signing_alg_values_supported":["RS256"],"response_types_supported":["code","id_token","code id_token","id_token token"],"scopes_supported":["openid","profile","email","offline_access"],"issuer":"https://login.microsoftonline.com/7ff95b15-dc21-4ba6-bc92-824856578fc1/v2.0","request_uri_parameter_supported":false,"userinfo_endpoint":"https://graph.microsoft.com/oidc/userinfo","authorization_endpoint":"https://login.microsoftonline.com/7ff95b15-dc21-4ba6-bc92-824856578fc1/oauth2/v2.0/authorize","device_authorization_endpoint":"https://login.microsoftonline.com/7ff95b15-dc21-4ba6-bc92-824856578fc1/oauth2/v2.0/devicecode","http_logout_supported":true,"frontchannel_logout_supported":true,"end_session_endpoint":"https://login.microsoftonline.com/7ff95b15-dc21-4ba6-bc92-824856578fc1/oauth2/v2.0/logout","claims_supported":["sub","iss","cloud_instance_name","cloud_instance_host_name","cloud_graph_host_name","msgraph_host","aud","exp","iat","auth_time","acr","nonce","preferred_username","name","tid","ver","at_hash","c_hash","email"],"kerberos_endpoint":"https://login.microsoftonline.com/7ff95b15-dc21-4ba6-bc92-824856578fc1/kerberos","tenant_region_scope":"EU","cloud_instance_name":"microsoftonline.com","cloud_graph_host_name":"graph.windows.net","msgraph_host":"graph.microsoft.com","rbac_url":"https://pas.windows.net"}' obtained from metadata endpoint into openIdConnectConfiguration object.
2023-11-28 19:40:48.576 +01:00 [Debug] [Microsoft.IdentityModel.LoggingExtensions.IdentityLoggerAdapter] [] IDX21812: Retrieving json web keys from: 'https://login.microsoftonline.com/7ff95b15-dc21-4ba6-bc92-824856578fc1/discovery/v2.0/keys'.
2023-11-28 19:40:48.578 +01:00 [Debug] [Microsoft.IdentityModel.LoggingExtensions.IdentityLoggerAdapter] [] IDX20805: Obtaining information from metadata endpoint: 'https://login.microsoftonline.com/7ff95b15-dc21-4ba6-bc92-824856578fc1/discovery/v2.0/keys'.
2023-11-28 19:40:48.807 +01:00 [Debug] [Microsoft.IdentityModel.LoggingExtensions.IdentityLoggerAdapter] [] IDX21813: Deserializing json web keys: 'https://login.microsoftonline.com/7ff95b15-dc21-4ba6-bc92-824856578fc1/discovery/v2.0/keys'.
2023-11-28 19:40:48.809 +01:00 [Debug] [Microsoft.IdentityModel.LoggingExtensions.IdentityLoggerAdapter] [] IDX10806: Deserializing json: '{"keys":[{"kty":"RSA","use":"sig","kid":"9GmnyFPkhc3hOuR22mvSvgnLo7Y","x5t":"9GmnyFPkhc3hOuR22mvSvgnLo7Y","n":"z_w-5U4eZwenXYnEgt2rCN-753YQ7RN8ykiNprNiLl4ilpwAGLWF1cssoRflsSiBVZcCSwUzUwsifG7sbRq9Vc8RFs72Gg0AUwPsJFUqNttMg3Ot-wTqsZtE5GNSBUSqnI-iWoZfjw-uLsS0u4MfzP8Fpkd-rzRlifuIAYK8Ffi1bldkszeBzQbBZbXFwiw5uTf8vEAkH_IAdB732tQAsNXpWWYDV74nKAiwLlDS5FWVs2S2T-MPNAg28MLxYfRhW2bUpd693inxI8WTSLRncouzMImJF4XeMG2ZRZ0z_KJra_uzzMCLbILtpnLA95ysxWw-4ygm3MxN2iBM2IaJeQ","e":"AQAB","x5c":["MIIC/jCCAeagAwIBAgIJAOCJOVRxNKcNMA0GCSqGSIb3DQEBCwUAMC0xKzApBgNVBAMTImFjY291bnRzLmFjY2Vzc2NvbnRyb2wud2luZG93cy5uZXQwHhcNMjMwODI4MjAwMjQwWhcNMjgwODI4MjAwMjQwWjAtMSswKQYDVQQDEyJhY2NvdW50cy5hY2Nlc3Njb250cm9sLndpbmRvd3MubmV0MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAz/w+5U4eZwenXYnEgt2rCN+753YQ7RN8ykiNprNiLl4ilpwAGLWF1cssoRflsSiBVZcCSwUzUwsifG7sbRq9Vc8RFs72Gg0AUwPsJFUqNttMg3Ot+wTqsZtE5GNSBUSqnI+iWoZfjw+uLsS0u4MfzP8Fpkd+rzRlifuIAYK8Ffi1bldkszeBzQbBZbXFwiw5uTf8vEAkH/IAdB732tQAsNXpWWYDV74nKAiwLlDS5FWVs2S2T+MPNAg28MLxYfRhW2bUpd693inxI8WTSLRncouzMImJF4XeMG2ZRZ0z/KJra/uzzMCLbILtpnLA95ysxWw+4ygm3MxN2iBM2IaJeQIDAQABoyEwHzAdBgNVHQ4EFgQU/wzRzxsifMCz54SZ3HuF4P4jtzowDQYJKoZIhvcNAQELBQADggEBACaWlbJTObDai8+wmskHedKYb3FCfTwvH/sCRsygHIeDIi23CpoWeKt5FwXsSeqDMd0Hb6IMtYDG5rfGvhkNfunt3sutK0VpZZMNdSBmIXaUx4mBRRUsG4hpeWRrHRgTnxweDDVw4Mv+oYCmpY7eZ4SenISkSd/4qrXzFaI9NeZCY7Jg9vg1bev+NaUtD3C4As6GQ+mN8Rm2NG9vzgTDlKf4Wb5Exy7u9dMW1TChiy28ieVkETKdqwXcbhqM8GOLBUFicdmgP2y9aDGjb89BuaeoHJCGpWWCi3UZth14clVzC6p7ZD6fFx5tKMOL/hQvs3ugGtvFDWCsvcT8bB84RO8="],"issuer":"https://login.microsoftonline.com/7ff95b15-dc21-4ba6-bc92-824856578fc1/v2.0"},{"kty":"RSA","use":"sig","kid":"T1St-dLTvyWRgxB_676u8krXS-I","x5t":"T1St-dLTvyWRgxB_676u8krXS-I","n":"s2TCRTB0HKEfLBPi3_8CxCbWirz7rlvzcXnp_0j3jrmb_hst0iiHifSBwE0FV1WW79Kyw0AATkLfSLLyllyCuzgoUOgmXd3YMaqB8mQOBIecFQDAHkM1syzi_VwVdJt8H1yI0hOGcOktujDPHidVFtOuoDqAWlCs7kCGwlazK4Sfu_pnfJI4RmU8AvqO0auGcxg24ICbpP01G0PgbvW8uhWSWSSTXmfdIh567JOHsgvFr0m1AUQv7wbeRxgyiHwn29h6g1bwSYJB4I6TMG-cDygvU9lNWFzeYhtqG4Z_cA3khWIMmTq3dVzCsi4iU309-c0FopWacTHouHyMRcpJFQ","e":"AQAB","x5c":["MIIC/TCCAeWgAwIBAgIIUd7j/OIahkYwDQYJKoZIhvcNAQELBQAwLTErMCkGA1UEAxMiYWNjb3VudHMuYWNjZXNzY29udHJvbC53aW5kb3dzLm5ldDAeFw0yMzExMDExNjAzMjdaFw0yODExMDExNjAzMjdaMC0xKzApBgNVBAMTImFjY291bnRzLmFjY2Vzc2NvbnRyb2wud2luZG93cy5uZXQwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQCzZMJFMHQcoR8sE+Lf/wLEJtaKvPuuW/Nxeen/SPeOuZv+Gy3SKIeJ9IHATQVXVZbv0rLDQABOQt9IsvKWXIK7OChQ6CZd3dgxqoHyZA4Eh5wVAMAeQzWzLOL9XBV0m3wfXIjSE4Zw6S26MM8eJ1UW066gOoBaUKzuQIbCVrMrhJ+7+md8kjhGZTwC+o7Rq4ZzGDbggJuk/TUbQ+Bu9by6FZJZJJNeZ90iHnrsk4eyC8WvSbUBRC/vBt5HGDKIfCfb2HqDVvBJgkHgjpMwb5wPKC9T2U1YXN5iG2obhn9wDeSFYgyZOrd1XMKyLiJTfT35zQWilZpxMei4fIxFykkVAgMBAAGjITAfMB0GA1UdDgQWBBRNcCE3HDX+HOJOu/bKfLYoSX3/0jANBgkqhkiG9w0BAQsFAAOCAQEAExns169MDr1dDNELYNK0JDjPUA6GR50jqfc+xa2KOljeXErOdihSvKgDS/vnDN6fjNNZuOMDyr6jjLvRsT0jVWzf/B6v92FrPRa/rv3urGXvW5am3BZyVPipirbiolMTuork95G7y7imftK7117uHcMq3D8f4fxscDiDXgjEEZqjkuzYDGLaVWGJqpv5xE4w+K4o2uDwmEIeIX+rI1MEVucS2vsvraOrjqjHwc3KrzuVRSsOU7YVHyUhku+7oOrB4tYrVbYYgwd6zXnkdouVPqOX9wTkc9iTmbDP+rfkhdadLxU+hmMyMuCJKgkZbWKFES7ce23jfTMbpqoHB4pgtQ=="],"issuer":"https://login.microsoftonline.com/7ff95b15-dc21-4ba6-bc92-824856578fc1/v2.0"},{"kty":"RSA","use":"sig","kid":"lHLIu4moKqzPcokwlfCRPHyjl5g","x5t":"lHLIu4moKqzPcokwlfCRPHyjl5g","n":"xlc-u9LJvOdbwAsgsYZpaJrgmrGHaEkoa_3_7Jvu4-Hb8LNtszrQy5Ik4CXgQ_uiLPt4-ePprX3klFAx91ahfd5LwX6mEQPT8WuHMDunx8MaNQrYNVvnOI1L5NxFBFV_6ghi_0d-cOslErcTMML2lbMCSjQ8jwltxz1Oy-Hd9wdY2pz2YC3WR4tHzAGreWGeOB2Vs2NLGv0U3CGSCMqpM9vxbWLZQPuCNpKF93RkxHj5bLng9U_rM6YScacEnTFlKIOOrk4pcVVdoSNNIK2uNUs1hHS1mBXuQjfceghzj3QQYHfp1Z5qWXPRIw3PDyn_1Sowe5UljLurkpj_8m3KnQ","e":"AQAB","x5c":["MIIC6TCCAdGgAwIBAgIIT3fcexMa3ggwDQYJKoZIhvcNAQELBQAwIzEhMB8GA1UEAxMYbG9naW4ubWljcm9zb2Z0b25saW5lLnVzMB4XDTIzMDcxNDAwNDU0NFoXDTI4MDcxNDAwNDU0NFowIzEhMB8GA1UEAxMYbG9naW4ubWljcm9zb2Z0b25saW5lLnVzMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAxlc+u9LJvOdbwAsgsYZpaJrgmrGHaEkoa/3/7Jvu4+Hb8LNtszrQy5Ik4CXgQ/uiLPt4+ePprX3klFAx91ahfd5LwX6mEQPT8WuHMDunx8MaNQrYNVvnOI1L5NxFBFV/6ghi/0d+cOslErcTMML2lbMCSjQ8jwltxz1Oy+Hd9wdY2pz2YC3WR4tHzAGreWGeOB2Vs2NLGv0U3CGSCMqpM9vxbWLZQPuCNpKF93RkxHj5bLng9U/rM6YScacEnTFlKIOOrk4pcVVdoSNNIK2uNUs1hHS1mBXuQjfceghzj3QQYHfp1Z5qWXPRIw3PDyn/1Sowe5UljLurkpj/8m3KnQIDAQABoyEwHzAdBgNVHQ4EFgQUCSJrrznFYz1BLqd17S8HFjGrAOAwDQYJKoZIhvcNAQELBQADggEBAAQHNudtmYpeh9x5+rGDVy6OYpTnQ2D5+rmgOHM5yRvgEnFBNuZ6bnr3Ap9nb6EM08juYKPaVyhkV+5axMl+dT8KOuCgrfcKvXqzdQ3BgVFkyU9XfajHzq3JALYpNkixCs/BvqRhXx2ecYxFHB2D671cOwhYIaMZdGtbmOOk8puYSgJ9DBqqn3pLksHmxLP656l/U3hPATTCdfDaNcTagIPx+Q2d9RBn8zOIa/p4CLsu3E0aJfDw3ljPD8inLJ2mpKq06TBfd5Rr/auwipb4J8Y/PHhef8b2kOf42fikIKAP538k9lLsXSowyPWn7KZDTEsku7xpyqvKvEiFkmaV+RY="],"issuer":"https://login.microsoftonline.com/7ff95b15-dc21-4ba6-bc92-824856578fc1/v2.0"}]}' into 'Microsoft.IdentityModel.Tokens.JsonWebKeySet'.
2023-11-28 19:40:48.942 +01:00 [Information] [Microsoft.IdentityModel.LoggingExtensions.IdentityLoggerAdapter] [] IDX10242: Security token: '[Security Artifact of type 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken' is hidden. For more details, see https://aka.ms/IdentityModel/SecurityArtifactLogging.]' has a valid signature.
2023-11-28 19:40:48.947 +01:00 [Debug] [Microsoft.IdentityModel.LoggingExtensions.IdentityLoggerAdapter] [] IDX10237: ValidateIssuerSigningKey property on ValidationParameters is set to false. Exiting without validating the issuer signing key.
2023-11-28 19:40:48.953 +01:00 [Information] [Microsoft.IdentityModel.LoggingExtensions.IdentityLoggerAdapter] [] IDX10239: Lifetime of the token is valid.
2023-11-28 19:40:48.959 +01:00 [Information] [Microsoft.IdentityModel.LoggingExtensions.IdentityLoggerAdapter] [] IDX10234: Audience Validated.Audience: '2b50a014-f353-4c10-aace-024f19a55569'
2023-11-28 19:40:48.965 +01:00 [Debug] [Microsoft.IdentityModel.LoggingExtensions.IdentityLoggerAdapter] [] IDX20805: Obtaining information from metadata endpoint: 'https://login.microsoftonline.com/7ff95b15-dc21-4ba6-bc92-824856578fc1/v2.0/.well-known/openid-configuration'.
2023-11-28 19:40:49.514 +01:00 [Debug] [Microsoft.IdentityModel.LoggingExtensions.IdentityLoggerAdapter] [] IDX21811: Deserializing the string: '{"token_endpoint":"https://login.microsoftonline.com/7ff95b15-dc21-4ba6-bc92-824856578fc1/oauth2/v2.0/token","token_endpoint_auth_methods_supported":["client_secret_post","private_key_jwt","client_secret_basic"],"jwks_uri":"https://login.microsoftonline.com/7ff95b15-dc21-4ba6-bc92-824856578fc1/discovery/v2.0/keys","response_modes_supported":["query","fragment","form_post"],"subject_types_supported":["pairwise"],"id_token_signing_alg_values_supported":["RS256"],"response_types_supported":["code","id_token","code id_token","id_token token"],"scopes_supported":["openid","profile","email","offline_access"],"issuer":"https://login.microsoftonline.com/7ff95b15-dc21-4ba6-bc92-824856578fc1/v2.0","request_uri_parameter_supported":false,"userinfo_endpoint":"https://graph.microsoft.com/oidc/userinfo","authorization_endpoint":"https://login.microsoftonline.com/7ff95b15-dc21-4ba6-bc92-824856578fc1/oauth2/v2.0/authorize","device_authorization_endpoint":"https://login.microsoftonline.com/7ff95b15-dc21-4ba6-bc92-824856578fc1/oauth2/v2.0/devicecode","http_logout_supported":true,"frontchannel_logout_supported":true,"end_session_endpoint":"https://login.microsoftonline.com/7ff95b15-dc21-4ba6-bc92-824856578fc1/oauth2/v2.0/logout","claims_supported":["sub","iss","cloud_instance_name","cloud_instance_host_name","cloud_graph_host_name","msgraph_host","aud","exp","iat","auth_time","acr","nonce","preferred_username","name","tid","ver","at_hash","c_hash","email"],"kerberos_endpoint":"https://login.microsoftonline.com/7ff95b15-dc21-4ba6-bc92-824856578fc1/kerberos","tenant_region_scope":"EU","cloud_instance_name":"microsoftonline.com","cloud_graph_host_name":"graph.windows.net","msgraph_host":"graph.microsoft.com","rbac_url":"https://pas.windows.net"}' obtained from metadata endpoint into openIdConnectConfiguration object.
2023-11-28 19:40:49.519 +01:00 [Debug] [Microsoft.IdentityModel.LoggingExtensions.IdentityLoggerAdapter] [] IDX21812: Retrieving json web keys from: 'https://login.microsoftonline.com/7ff95b15-dc21-4ba6-bc92-824856578fc1/discovery/v2.0/keys'.
2023-11-28 19:40:49.520 +01:00 [Debug] [Microsoft.IdentityModel.LoggingExtensions.IdentityLoggerAdapter] [] IDX20805: Obtaining information from metadata endpoint: 'https://login.microsoftonline.com/7ff95b15-dc21-4ba6-bc92-824856578fc1/discovery/v2.0/keys'.
2023-11-28 19:40:49.742 +01:00 [Debug] [Microsoft.IdentityModel.LoggingExtensions.IdentityLoggerAdapter] [] IDX21813: Deserializing json web keys: 'https://login.microsoftonline.com/7ff95b15-dc21-4ba6-bc92-824856578fc1/discovery/v2.0/keys'.
2023-11-28 19:40:49.744 +01:00 [Debug] [Microsoft.IdentityModel.LoggingExtensions.IdentityLoggerAdapter] [] IDX10806: Deserializing json: '{"keys":[{"kty":"RSA","use":"sig","kid":"9GmnyFPkhc3hOuR22mvSvgnLo7Y","x5t":"9GmnyFPkhc3hOuR22mvSvgnLo7Y","n":"z_w-5U4eZwenXYnEgt2rCN-753YQ7RN8ykiNprNiLl4ilpwAGLWF1cssoRflsSiBVZcCSwUzUwsifG7sbRq9Vc8RFs72Gg0AUwPsJFUqNttMg3Ot-wTqsZtE5GNSBUSqnI-iWoZfjw-uLsS0u4MfzP8Fpkd-rzRlifuIAYK8Ffi1bldkszeBzQbBZbXFwiw5uTf8vEAkH_IAdB732tQAsNXpWWYDV74nKAiwLlDS5FWVs2S2T-MPNAg28MLxYfRhW2bUpd693inxI8WTSLRncouzMImJF4XeMG2ZRZ0z_KJra_uzzMCLbILtpnLA95ysxWw-4ygm3MxN2iBM2IaJeQ","e":"AQAB","x5c":["MIIC/jCCAeagAwIBAgIJAOCJOVRxNKcNMA0GCSqGSIb3DQEBCwUAMC0xKzApBgNVBAMTImFjY291bnRzLmFjY2Vzc2NvbnRyb2wud2luZG93cy5uZXQwHhcNMjMwODI4MjAwMjQwWhcNMjgwODI4MjAwMjQwWjAtMSswKQYDVQQDEyJhY2NvdW50cy5hY2Nlc3Njb250cm9sLndpbmRvd3MubmV0MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAz/w+5U4eZwenXYnEgt2rCN+753YQ7RN8ykiNprNiLl4ilpwAGLWF1cssoRflsSiBVZcCSwUzUwsifG7sbRq9Vc8RFs72Gg0AUwPsJFUqNttMg3Ot+wTqsZtE5GNSBUSqnI+iWoZfjw+uLsS0u4MfzP8Fpkd+rzRlifuIAYK8Ffi1bldkszeBzQbBZbXFwiw5uTf8vEAkH/IAdB732tQAsNXpWWYDV74nKAiwLlDS5FWVs2S2T+MPNAg28MLxYfRhW2bUpd693inxI8WTSLRncouzMImJF4XeMG2ZRZ0z/KJra/uzzMCLbILtpnLA95ysxWw+4ygm3MxN2iBM2IaJeQIDAQABoyEwHzAdBgNVHQ4EFgQU/wzRzxsifMCz54SZ3HuF4P4jtzowDQYJKoZIhvcNAQELBQADggEBACaWlbJTObDai8+wmskHedKYb3FCfTwvH/sCRsygHIeDIi23CpoWeKt5FwXsSeqDMd0Hb6IMtYDG5rfGvhkNfunt3sutK0VpZZMNdSBmIXaUx4mBRRUsG4hpeWRrHRgTnxweDDVw4Mv+oYCmpY7eZ4SenISkSd/4qrXzFaI9NeZCY7Jg9vg1bev+NaUtD3C4As6GQ+mN8Rm2NG9vzgTDlKf4Wb5Exy7u9dMW1TChiy28ieVkETKdqwXcbhqM8GOLBUFicdmgP2y9aDGjb89BuaeoHJCGpWWCi3UZth14clVzC6p7ZD6fFx5tKMOL/hQvs3ugGtvFDWCsvcT8bB84RO8="],"issuer":"https://login.microsoftonline.com/7ff95b15-dc21-4ba6-bc92-824856578fc1/v2.0"},{"kty":"RSA","use":"sig","kid":"T1St-dLTvyWRgxB_676u8krXS-I","x5t":"T1St-dLTvyWRgxB_676u8krXS-I","n":"s2TCRTB0HKEfLBPi3_8CxCbWirz7rlvzcXnp_0j3jrmb_hst0iiHifSBwE0FV1WW79Kyw0AATkLfSLLyllyCuzgoUOgmXd3YMaqB8mQOBIecFQDAHkM1syzi_VwVdJt8H1yI0hOGcOktujDPHidVFtOuoDqAWlCs7kCGwlazK4Sfu_pnfJI4RmU8AvqO0auGcxg24ICbpP01G0PgbvW8uhWSWSSTXmfdIh567JOHsgvFr0m1AUQv7wbeRxgyiHwn29h6g1bwSYJB4I6TMG-cDygvU9lNWFzeYhtqG4Z_cA3khWIMmTq3dVzCsi4iU309-c0FopWacTHouHyMRcpJFQ","e":"AQAB","x5c":["MIIC/TCCAeWgAwIBAgIIUd7j/OIahkYwDQYJKoZIhvcNAQELBQAwLTErMCkGA1UEAxMiYWNjb3VudHMuYWNjZXNzY29udHJvbC53aW5kb3dzLm5ldDAeFw0yMzExMDExNjAzMjdaFw0yODExMDExNjAzMjdaMC0xKzApBgNVBAMTImFjY291bnRzLmFjY2Vzc2NvbnRyb2wud2luZG93cy5uZXQwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQCzZMJFMHQcoR8sE+Lf/wLEJtaKvPuuW/Nxeen/SPeOuZv+Gy3SKIeJ9IHATQVXVZbv0rLDQABOQt9IsvKWXIK7OChQ6CZd3dgxqoHyZA4Eh5wVAMAeQzWzLOL9XBV0m3wfXIjSE4Zw6S26MM8eJ1UW066gOoBaUKzuQIbCVrMrhJ+7+md8kjhGZTwC+o7Rq4ZzGDbggJuk/TUbQ+Bu9by6FZJZJJNeZ90iHnrsk4eyC8WvSbUBRC/vBt5HGDKIfCfb2HqDVvBJgkHgjpMwb5wPKC9T2U1YXN5iG2obhn9wDeSFYgyZOrd1XMKyLiJTfT35zQWilZpxMei4fIxFykkVAgMBAAGjITAfMB0GA1UdDgQWBBRNcCE3HDX+HOJOu/bKfLYoSX3/0jANBgkqhkiG9w0BAQsFAAOCAQEAExns169MDr1dDNELYNK0JDjPUA6GR50jqfc+xa2KOljeXErOdihSvKgDS/vnDN6fjNNZuOMDyr6jjLvRsT0jVWzf/B6v92FrPRa/rv3urGXvW5am3BZyVPipirbiolMTuork95G7y7imftK7117uHcMq3D8f4fxscDiDXgjEEZqjkuzYDGLaVWGJqpv5xE4w+K4o2uDwmEIeIX+rI1MEVucS2vsvraOrjqjHwc3KrzuVRSsOU7YVHyUhku+7oOrB4tYrVbYYgwd6zXnkdouVPqOX9wTkc9iTmbDP+rfkhdadLxU+hmMyMuCJKgkZbWKFES7ce23jfTMbpqoHB4pgtQ=="],"issuer":"https://login.microsoftonline.com/7ff95b15-dc21-4ba6-bc92-824856578fc1/v2.0"},{"kty":"RSA","use":"sig","kid":"lHLIu4moKqzPcokwlfCRPHyjl5g","x5t":"lHLIu4moKqzPcokwlfCRPHyjl5g","n":"xlc-u9LJvOdbwAsgsYZpaJrgmrGHaEkoa_3_7Jvu4-Hb8LNtszrQy5Ik4CXgQ_uiLPt4-ePprX3klFAx91ahfd5LwX6mEQPT8WuHMDunx8MaNQrYNVvnOI1L5NxFBFV_6ghi_0d-cOslErcTMML2lbMCSjQ8jwltxz1Oy-Hd9wdY2pz2YC3WR4tHzAGreWGeOB2Vs2NLGv0U3CGSCMqpM9vxbWLZQPuCNpKF93RkxHj5bLng9U_rM6YScacEnTFlKIOOrk4pcVVdoSNNIK2uNUs1hHS1mBXuQjfceghzj3QQYHfp1Z5qWXPRIw3PDyn_1Sowe5UljLurkpj_8m3KnQ","e":"AQAB","x5c":["MIIC6TCCAdGgAwIBAgIIT3fcexMa3ggwDQYJKoZIhvcNAQELBQAwIzEhMB8GA1UEAxMYbG9naW4ubWljcm9zb2Z0b25saW5lLnVzMB4XDTIzMDcxNDAwNDU0NFoXDTI4MDcxNDAwNDU0NFowIzEhMB8GA1UEAxMYbG9naW4ubWljcm9zb2Z0b25saW5lLnVzMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAxlc+u9LJvOdbwAsgsYZpaJrgmrGHaEkoa/3/7Jvu4+Hb8LNtszrQy5Ik4CXgQ/uiLPt4+ePprX3klFAx91ahfd5LwX6mEQPT8WuHMDunx8MaNQrYNVvnOI1L5NxFBFV/6ghi/0d+cOslErcTMML2lbMCSjQ8jwltxz1Oy+Hd9wdY2pz2YC3WR4tHzAGreWGeOB2Vs2NLGv0U3CGSCMqpM9vxbWLZQPuCNpKF93RkxHj5bLng9U/rM6YScacEnTFlKIOOrk4pcVVdoSNNIK2uNUs1hHS1mBXuQjfceghzj3QQYHfp1Z5qWXPRIw3PDyn/1Sowe5UljLurkpj/8m3KnQIDAQABoyEwHzAdBgNVHQ4EFgQUCSJrrznFYz1BLqd17S8HFjGrAOAwDQYJKoZIhvcNAQELBQADggEBAAQHNudtmYpeh9x5+rGDVy6OYpTnQ2D5+rmgOHM5yRvgEnFBNuZ6bnr3Ap9nb6EM08juYKPaVyhkV+5axMl+dT8KOuCgrfcKvXqzdQ3BgVFkyU9XfajHzq3JALYpNkixCs/BvqRhXx2ecYxFHB2D671cOwhYIaMZdGtbmOOk8puYSgJ9DBqqn3pLksHmxLP656l/U3hPATTCdfDaNcTagIPx+Q2d9RBn8zOIa/p4CLsu3E0aJfDw3ljPD8inLJ2mpKq06TBfd5Rr/auwipb4J8Y/PHhef8b2kOf42fikIKAP538k9lLsXSowyPWn7KZDTEsku7xpyqvKvEiFkmaV+RY="],"issuer":"https://login.microsoftonline.com/7ff95b15-dc21-4ba6-bc92-824856578fc1/v2.0"}]}' into 'Microsoft.IdentityModel.Tokens.JsonWebKeySet'.
2023-11-28 19:40:49.760 +01:00 [Debug] [Microsoft.IdentityModel.LoggingExtensions.IdentityLoggerAdapter] [] IDX10246: ValidateTokenReplay property on ValidationParameters is set to false. Exiting without validating the token replay.
2023-11-28 19:40:49.761 +01:00 [Debug] [Microsoft.IdentityModel.LoggingExtensions.IdentityLoggerAdapter] [] IDX10255: TypeValidator property on ValidationParameters is null and ValidTypes is either null or empty. Exiting without validating the token type.
2023-11-28 19:40:49.770 +01:00 [Information] [Microsoft.IdentityModel.LoggingExtensions.IdentityLoggerAdapter] [] IDX10245: Creating claims identity from the validated token: '[Security Artifact of type 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken' is hidden. For more details, see https://aka.ms/IdentityModel/SecurityArtifactLogging.]'.
2023-11-28 19:40:49.773 +01:00 [Debug] [Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler] [{ Id: 2, Name: "TokenValidationSucceeded" }] Successfully validated the token.
2023-11-28 19:40:49.780 +01:00 [Debug] [Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler] [{ Id: 8, Name: "AuthenticationSchemeAuthenticated" }] AuthenticationScheme: "Bearer" was successfully authenticated.
2023-11-28 19:40:49.789 +01:00 [Debug] [Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler] [{ Id: 8, Name: "AuthenticationSchemeAuthenticated" }] AuthenticationScheme: "Bearer" was successfully authenticated.
2023-11-28 19:40:49.796 +01:00 [Debug] [Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] [{ Id: 1, Name: "UserAuthorizationSucceeded" }] Authorization was successful.
2023-11-28 19:40:49.797 +01:00 [Information] [Microsoft.AspNetCore.Routing.EndpointMiddleware] [{ Name: "ExecutingEndpoint" }] Executing endpoint '"ApiWithMutlipleApis.Controllers.DirectApiController.Get (ApiWithMutlipleApis)"'
2023-11-28 19:40:49.832 +01:00 [Information] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] [{ Id: 102, Name: "ControllerActionExecuting" }] Route matched with "{action = \"Get\", controller = \"DirectApi\"}". Executing controller action with signature "System.Collections.Generic.IEnumerable`1[System.String] Get()" on controller "ApiWithMutlipleApis.Controllers.DirectApiController" ("ApiWithMutlipleApis").
2023-11-28 19:40:49.840 +01:00 [Debug] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] [{ Id: 1, Name: "FilterExecutionPlan" }] Execution plan of "authorization" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter"]
2023-11-28 19:40:49.841 +01:00 [Debug] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] [{ Id: 1, Name: "FilterExecutionPlan" }] Execution plan of "resource" filters (in the following order): ["None"]
2023-11-28 19:40:49.843 +01:00 [Debug] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] [{ Id: 1, Name: "FilterExecutionPlan" }] Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-11-28 19:40:49.844 +01:00 [Debug] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] [{ Id: 1, Name: "FilterExecutionPlan" }] Execution plan of "exception" filters (in the following order): ["Microsoft.Identity.Web.AuthorizeForScopesAttribute (Order: 0)"]
2023-11-28 19:40:49.845 +01:00 [Debug] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] [{ Id: 1, Name: "FilterExecutionPlan" }] Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-11-28 19:40:49.856 +01:00 [Debug] [Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler] [{ Id: 8, Name: "AuthenticationSchemeAuthenticated" }] AuthenticationScheme: "Bearer" was successfully authenticated.
2023-11-28 19:40:49.858 +01:00 [Debug] [Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] [{ Id: 1, Name: "UserAuthorizationSucceeded" }] Authorization was successful.
2023-11-28 19:40:49.862 +01:00 [Debug] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] [{ Id: 1, Name: "ControllerFactoryExecuting" }] Executing controller factory for controller "ApiWithMutlipleApis.Controllers.DirectApiController" ("ApiWithMutlipleApis")
2023-11-28 19:40:49.863 +01:00 [Debug] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] [{ Id: 2, Name: "ControllerFactoryExecuted" }] Executed controller factory for controller "ApiWithMutlipleApis.Controllers.DirectApiController" ("ApiWithMutlipleApis")
2023-11-28 19:40:50.118 +01:00 [Information] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] [{ Id: 101, Name: "ActionMethodExecuting" }] Executing action method "ApiWithMutlipleApis.Controllers.DirectApiController.Get (ApiWithMutlipleApis)" - Validation state: Valid
2023-11-28 19:40:50.127 +01:00 [Information] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] [{ Id: 103, Name: "ActionMethodExecuted" }] Executed action method "ApiWithMutlipleApis.Controllers.DirectApiController.Get (ApiWithMutlipleApis)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 0.6647ms.
2023-11-28 19:40:50.132 +01:00 [Debug] [Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector] [{ Id: 11, Name: "RegisteredOutputFormatters" }] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-11-28 19:40:50.137 +01:00 [Debug] [Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector] [{ Id: 4, Name: "NoAcceptForNegotiation" }] No information found on request to perform content negotiation.
2023-11-28 19:40:50.138 +01:00 [Debug] [Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector] [{ Id: 8, Name: "SelectingOutputFormatterWithoutUsingContentTypes" }] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-11-28 19:40:50.139 +01:00 [Debug] [Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector] [{ Id: 10, Name: "SelectingFirstCanWriteFormatter" }] Attempting to select the first formatter in the output formatters list which can write the result.
2023-11-28 19:40:50.141 +01:00 [Debug] [Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector] [{ Id: 2, Name: "FormatterSelected" }] Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/json"' to write the response.
2023-11-28 19:40:50.143 +01:00 [Information] [Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] [{ Id: 1, Name: "ObjectResultExecuting" }] Executing "ObjectResult", writing value of type '"System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
2023-11-28 19:40:50.166 +01:00 [Information] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] [{ Id: 105, Name: "ActionExecuted" }] Executed action "ApiWithMutlipleApis.Controllers.DirectApiController.Get (ApiWithMutlipleApis)" in 312.8ms
2023-11-28 19:40:50.168 +01:00 [Information] [Microsoft.AspNetCore.Routing.EndpointMiddleware] [{ Id: 1, Name: "ExecutedEndpoint" }] Executed endpoint '"ApiWithMutlipleApis.Controllers.DirectApiController.Get (ApiWithMutlipleApis)"'
2023-11-28 19:40:50.170 +01:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2 }] Request finished "HTTP/2" "GET" "https"://"localhost:44390""""/DirectApi""" - 200 null "application/json; charset=utf-8" 3823.9804ms
2023-11-28 19:40:56.650 +01:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1 }] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:44390""""/GraphApiCalls""" - null null
2023-11-28 19:40:56.654 +01:00 [Debug] [Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware] [{ Id: 1, Name: "MethodNotSupported" }] "OPTIONS" requests are not supported
2023-11-28 19:40:56.655 +01:00 [Debug] [Microsoft.AspNetCore.Cors.Infrastructure.CorsService] [{ Id: 2, Name: "RequestHasOriginHeader" }] The request has an origin header: '"https://localhost:4200"'.
2023-11-28 19:40:56.657 +01:00 [Information] [Microsoft.AspNetCore.Cors.Infrastructure.CorsService] [{ Id: 4, Name: "PolicySuccess" }] CORS policy execution successful.
2023-11-28 19:40:56.658 +01:00 [Debug] [Microsoft.AspNetCore.Cors.Infrastructure.CorsService] [{ Id: 1, Name: "IsPreflightRequest" }] The request is a preflight request.
2023-11-28 19:40:56.659 +01:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2 }] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:44390""""/GraphApiCalls""" - 204 null null 9.1304ms
2023-11-28 19:40:56.669 +01:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1 }] Request starting "HTTP/2" "GET" "https"://"localhost:44390""""/GraphApiCalls""" - null null
2023-11-28 19:40:56.670 +01:00 [Debug] [Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware] [{ Id: 4, Name: "FileTypeNotSupported" }] The request path "/GraphApiCalls" does not match a supported file type
2023-11-28 19:40:56.671 +01:00 [Debug] [Microsoft.AspNetCore.Cors.Infrastructure.CorsService] [{ Id: 2, Name: "RequestHasOriginHeader" }] The request has an origin header: '"https://localhost:4200"'.
2023-11-28 19:40:56.674 +01:00 [Information] [Microsoft.AspNetCore.Cors.Infrastructure.CorsService] [{ Id: 4, Name: "PolicySuccess" }] CORS policy execution successful.
2023-11-28 19:40:56.678 +01:00 [Debug] [Microsoft.AspNetCore.Routing.Matching.DfaMatcher] [{ Id: 1001, Name: "CandidatesFound" }] 1 candidate(s) found for the request path '"/GraphApiCalls"'
2023-11-28 19:40:56.678 +01:00 [Debug] [Microsoft.AspNetCore.Routing.Matching.DfaMatcher] [{ Id: 1005, Name: "CandidateValid" }] Endpoint '"ApiWithMutlipleApis.Controllers.GraphApiCallsController.Get (ApiWithMutlipleApis)"' with route pattern '"GraphApiCalls"' is valid for the request path '"/GraphApiCalls"'
2023-11-28 19:40:56.679 +01:00 [Debug] [Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware] [{ Id: 1, Name: "MatchSuccess" }] Request matched endpoint '"ApiWithMutlipleApis.Controllers.GraphApiCallsController.Get (ApiWithMutlipleApis)"'
2023-11-28 19:40:56.682 +01:00 [Information] [Microsoft.IdentityModel.LoggingExtensions.IdentityLoggerAdapter] [] IDX10242: Security token: '[Security Artifact of type 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken' is hidden. For more details, see https://aka.ms/IdentityModel/SecurityArtifactLogging.]' has a valid signature.
2023-11-28 19:40:56.682 +01:00 [Debug] [Microsoft.IdentityModel.LoggingExtensions.IdentityLoggerAdapter] [] IDX10237: ValidateIssuerSigningKey property on ValidationParameters is set to false. Exiting without validating the issuer signing key.
2023-11-28 19:40:56.683 +01:00 [Information] [Microsoft.IdentityModel.LoggingExtensions.IdentityLoggerAdapter] [] IDX10239: Lifetime of the token is valid.
2023-11-28 19:40:56.683 +01:00 [Information] [Microsoft.IdentityModel.LoggingExtensions.IdentityLoggerAdapter] [] IDX10234: Audience Validated.Audience: '2b50a014-f353-4c10-aace-024f19a55569'
2023-11-28 19:40:56.684 +01:00 [Debug] [Microsoft.IdentityModel.LoggingExtensions.IdentityLoggerAdapter] [] IDX10246: ValidateTokenReplay property on ValidationParameters is set to false. Exiting without validating the token replay.
2023-11-28 19:40:56.685 +01:00 [Debug] [Microsoft.IdentityModel.LoggingExtensions.IdentityLoggerAdapter] [] IDX10255: TypeValidator property on ValidationParameters is null and ValidTypes is either null or empty. Exiting without validating the token type.
2023-11-28 19:40:56.685 +01:00 [Information] [Microsoft.IdentityModel.LoggingExtensions.IdentityLoggerAdapter] [] IDX10245: Creating claims identity from the validated token: '[Security Artifact of type 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken' is hidden. For more details, see https://aka.ms/IdentityModel/SecurityArtifactLogging.]'.
2023-11-28 19:40:56.686 +01:00 [Debug] [Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler] [{ Id: 2, Name: "TokenValidationSucceeded" }] Successfully validated the token.
2023-11-28 19:40:56.686 +01:00 [Debug] [Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler] [{ Id: 8, Name: "AuthenticationSchemeAuthenticated" }] AuthenticationScheme: "Bearer" was successfully authenticated.
2023-11-28 19:40:56.689 +01:00 [Debug] [Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler] [{ Id: 8, Name: "AuthenticationSchemeAuthenticated" }] AuthenticationScheme: "Bearer" was successfully authenticated.
2023-11-28 19:40:56.691 +01:00 [Debug] [Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] [{ Id: 1, Name: "UserAuthorizationSucceeded" }] Authorization was successful.
2023-11-28 19:40:56.693 +01:00 [Information] [Microsoft.AspNetCore.Routing.EndpointMiddleware] [{ Name: "ExecutingEndpoint" }] Executing endpoint '"ApiWithMutlipleApis.Controllers.GraphApiCallsController.Get (ApiWithMutlipleApis)"'
2023-11-28 19:40:56.703 +01:00 [Information] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] [{ Id: 102, Name: "ControllerActionExecuting" }] Route matched with "{action = \"Get\", controller = \"GraphApiCalls\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[System.String]] Get()" on controller "ApiWithMutlipleApis.Controllers.GraphApiCallsController" ("ApiWithMutlipleApis").
2023-11-28 19:40:56.708 +01:00 [Debug] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] [{ Id: 1, Name: "FilterExecutionPlan" }] Execution plan of "authorization" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter"]
2023-11-28 19:40:56.709 +01:00 [Debug] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] [{ Id: 1, Name: "FilterExecutionPlan" }] Execution plan of "resource" filters (in the following order): ["None"]
2023-11-28 19:40:56.709 +01:00 [Debug] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] [{ Id: 1, Name: "FilterExecutionPlan" }] Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-11-28 19:40:56.709 +01:00 [Debug] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] [{ Id: 1, Name: "FilterExecutionPlan" }] Execution plan of "exception" filters (in the following order): ["Microsoft.Identity.Web.AuthorizeForScopesAttribute (Order: 0)"]
2023-11-28 19:40:56.710 +01:00 [Debug] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] [{ Id: 1, Name: "FilterExecutionPlan" }] Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-11-28 19:40:56.711 +01:00 [Debug] [Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler] [{ Id: 8, Name: "AuthenticationSchemeAuthenticated" }] AuthenticationScheme: "Bearer" was successfully authenticated.
2023-11-28 19:40:56.711 +01:00 [Debug] [Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] [{ Id: 1, Name: "UserAuthorizationSucceeded" }] Authorization was successful.
2023-11-28 19:40:56.712 +01:00 [Debug] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] [{ Id: 1, Name: "ControllerFactoryExecuting" }] Executing controller factory for controller "ApiWithMutlipleApis.Controllers.GraphApiCallsController" ("ApiWithMutlipleApis")
2023-11-28 19:40:57.751 +01:00 [Debug] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] [{ Id: 2, Name: "ControllerFactoryExecuted" }] Executed controller factory for controller "ApiWithMutlipleApis.Controllers.GraphApiCallsController" ("ApiWithMutlipleApis")
2023-11-28 19:40:57.811 +01:00 [Information] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] [{ Id: 101, Name: "ActionMethodExecuting" }] Executing action method "ApiWithMutlipleApis.Controllers.GraphApiCallsController.Get (ApiWithMutlipleApis)" - Validation state: Valid
2023-11-28 19:40:58.157 +01:00 [Debug] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:40:58Z] ConfidentialClientApplication 39649935 created
2023-11-28 19:40:58.212 +01:00 [Information] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:40:58Z] MSAL MSAL.NetCore with assembly version '4.57.0.0'. CorrelationId(00000000-0000-0000-0000-000000000000)
2023-11-28 19:40:58.229 +01:00 [Information] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:40:58Z] === OnBehalfOfParameters ===
SendX5C: False
ForceRefresh: False
UserAssertion set: True
SearchInCacheForLongRunningObo: False
LongRunningOboCacheKey set: False

2023-11-28 19:40:58.239 +01:00 [Information] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:40:58Z] 
=== Request Data ===
Authority Provided? - True
Scopes - User.ReadBasic.All user.read
Extra Query Params Keys (space separated) - 
ApiId - AcquireTokenOnBehalfOf
IsConfidentialClient - True
SendX5C - False
LoginHint ? False
IsBrokerConfigured - False
HomeAccountId - False
CorrelationId - 00000000-0000-0000-0000-000000000000
UserAssertion set: True
LongRunningOboCacheKey set: False
Region configured: 

2023-11-28 19:40:58.242 +01:00 [Information] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:40:58Z] === Token Acquisition (OnBehalfOfRequest) started:
	 Scopes: User.ReadBasic.All user.read
	Authority Host: login.microsoftonline.com
2023-11-28 19:40:58.243 +01:00 [Warning] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:40:58Z] Only in-memory caching is used. The cache is not persisted and will be lost if the machine is restarted. It also does not scale for a web app or web API, where the number of users can grow large. In production, web apps and web APIs should use distributed caching like Redis. See https://aka.ms/msal-net-cca-token-cache-serialization
2023-11-28 19:40:58.249 +01:00 [Information] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:40:58Z] [Instance Discovery] Instance discovery is enabled and will be performed
2023-11-28 19:40:58.251 +01:00 [Information] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:40:58Z] [Region discovery] Not using a regional authority. 
2023-11-28 19:40:58.255 +01:00 [Debug] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:40:58Z] [Instance Discovery] Tried to use network cache provider for login.microsoftonline.com. Success? False. 
2023-11-28 19:40:58.260 +01:00 [Information] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:40:58Z] Fetching instance discovery from the network from host login.microsoftonline.com. 
2023-11-28 19:40:58.268 +01:00 [Debug] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:40:58Z] Starting [Oauth2Client] Sending GET request 
2023-11-28 19:40:58.275 +01:00 [Debug] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:40:58Z] Starting [HttpManager] ExecuteAsync
2023-11-28 19:40:58.278 +01:00 [Debug] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:40:58Z] [HttpManager] Sending request. Method: GET. Host: https://login.microsoftonline.com. 
2023-11-28 19:40:58.283 +01:00 [Information] [System.Net.Http.HttpClient.Default.LogicalHandler] [{ Id: 100, Name: "RequestPipelineStart" }] Start processing HTTP request "GET" "https://login.microsoftonline.com/common/discovery/instance?api-version=1.1&authorization_endpoint=https%3A%2F%2Flogin.microsoftonline.com%2F7ff95b15-dc21-4ba6-bc92-824856578fc1%2Foauth2%2Fv2.0%2Fauthorize"
2023-11-28 19:40:58.287 +01:00 [Information] [System.Net.Http.HttpClient.Default.ClientHandler] [{ Id: 100, Name: "RequestStart" }] Sending HTTP request "GET" "https://login.microsoftonline.com/common/discovery/instance?api-version=1.1&authorization_endpoint=https%3A%2F%2Flogin.microsoftonline.com%2F7ff95b15-dc21-4ba6-bc92-824856578fc1%2Foauth2%2Fv2.0%2Fauthorize"
2023-11-28 19:40:58.865 +01:00 [Information] [System.Net.Http.HttpClient.Default.ClientHandler] [{ Id: 101, Name: "RequestEnd" }] Received HTTP response headers after 572.9239ms - 200
2023-11-28 19:40:58.868 +01:00 [Information] [System.Net.Http.HttpClient.Default.LogicalHandler] [{ Id: 101, Name: "RequestPipelineEnd" }] End processing HTTP request after 586.1259ms - 200
2023-11-28 19:40:58.877 +01:00 [Debug] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:40:58Z] [HttpManager] Received response. Status code: OK. 
2023-11-28 19:40:58.882 +01:00 [Debug] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:40:58Z] Finished [HttpManager] ExecuteAsync in 606 ms
2023-11-28 19:40:58.884 +01:00 [Debug] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:40:58Z] Finished [Oauth2Client] Sending GET request  in 616 ms
2023-11-28 19:40:58.890 +01:00 [Debug] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:40:58Z] Starting [OAuth2Client] Deserializing response
2023-11-28 19:40:58.916 +01:00 [Debug] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:40:58Z] Finished [OAuth2Client] Deserializing response in 25 ms
2023-11-28 19:40:58.926 +01:00 [Debug] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:40:58Z] [Instance Discovery] Tried to use network cache provider for login.microsoftonline.com. Success? True. 
2023-11-28 19:40:58.927 +01:00 [Debug] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:40:58Z] [Instance Discovery] After hitting the discovery endpoint, the network provider found an entry for login.microsoftonline.com ? True. 
2023-11-28 19:40:58.938 +01:00 [Information] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:40:58Z] Authority validation enabled? True. 
2023-11-28 19:40:58.939 +01:00 [Information] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:40:58Z] Authority validation - is known env? True. 
2023-11-28 19:40:58.942 +01:00 [Debug] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:40:58Z] Starting [OBO Request] Looking in the cache for an access token
2023-11-28 19:40:58.948 +01:00 [Information] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:40:58Z] [Internal cache] Total number of cache partitions found while getting access tokens: 0
2023-11-28 19:40:58.949 +01:00 [Information] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:40:58Z] [FindAccessTokenAsync] Discovered 0 access tokens in cache using partition key: dLm1jVOoF6n30Gunb2I4MumMrFnNNbnMf6cFtUtw6vs
2023-11-28 19:40:58.951 +01:00 [Debug] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:40:58Z] [FindAccessTokenAsync] No access tokens found in the cache. Skipping filtering. 
2023-11-28 19:40:58.952 +01:00 [Debug] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:40:58Z] Finished [OBO Request] Looking in the cache for an access token in 10 ms
2023-11-28 19:40:58.957 +01:00 [Information] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:40:58Z] [OBO request] Fetching tokens via normal OBO flow.
2023-11-28 19:40:58.965 +01:00 [Debug] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:40:58Z] Starting TokenClient:SendTokenRequestAsync
2023-11-28 19:40:58.971 +01:00 [Debug] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:40:58Z] [TokenClient] Before adding the client assertion / secret
2023-11-28 19:40:58.973 +01:00 [Debug] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:40:58Z] [TokenClient] After adding the client assertion / secret
2023-11-28 19:40:58.987 +01:00 [Debug] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:40:58Z] [Token Client] Fetching MsalTokenResponse .... 
2023-11-28 19:40:58.989 +01:00 [Debug] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:40:58Z] Starting [Oauth2Client] Sending POST request 
2023-11-28 19:40:59.002 +01:00 [Debug] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:40:59Z] Starting [HttpManager] ExecuteAsync
2023-11-28 19:40:59.003 +01:00 [Debug] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:40:59Z] [HttpManager] Sending request. Method: POST. Host: https://login.microsoftonline.com. 
2023-11-28 19:40:59.004 +01:00 [Information] [System.Net.Http.HttpClient.Default.LogicalHandler] [{ Id: 100, Name: "RequestPipelineStart" }] Start processing HTTP request "POST" "https://login.microsoftonline.com/7ff95b15-dc21-4ba6-bc92-824856578fc1/oauth2/v2.0/token"
2023-11-28 19:40:59.005 +01:00 [Information] [System.Net.Http.HttpClient.Default.ClientHandler] [{ Id: 100, Name: "RequestStart" }] Sending HTTP request "POST" "https://login.microsoftonline.com/7ff95b15-dc21-4ba6-bc92-824856578fc1/oauth2/v2.0/token"
2023-11-28 19:40:59.531 +01:00 [Information] [System.Net.Http.HttpClient.Default.ClientHandler] [{ Id: 101, Name: "RequestEnd" }] Received HTTP response headers after 524.8382ms - 200
2023-11-28 19:40:59.532 +01:00 [Information] [System.Net.Http.HttpClient.Default.LogicalHandler] [{ Id: 101, Name: "RequestPipelineEnd" }] End processing HTTP request after 527.758ms - 200
2023-11-28 19:40:59.533 +01:00 [Debug] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:40:59Z] [HttpManager] Received response. Status code: OK. 
2023-11-28 19:40:59.534 +01:00 [Debug] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:40:59Z] Finished [HttpManager] ExecuteAsync in 532 ms
2023-11-28 19:40:59.538 +01:00 [Debug] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:40:59Z] Finished [Oauth2Client] Sending POST request  in 549 ms
2023-11-28 19:40:59.539 +01:00 [Debug] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:40:59Z] Starting [OAuth2Client] Deserializing response
2023-11-28 19:40:59.638 +01:00 [Debug] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:40:59Z] Finished [OAuth2Client] Deserializing response in 98 ms
2023-11-28 19:40:59.645 +01:00 [Debug] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:40:59Z] Finished TokenClient:SendTokenRequestAsync in 680 ms
2023-11-28 19:40:59.653 +01:00 [Information] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:40:59Z] Checking client info returned from the server..
2023-11-28 19:40:59.664 +01:00 [Information] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:40:59Z] Saving token response to cache..
2023-11-28 19:40:59.680 +01:00 [Debug] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:40:59Z] 
[MsalTokenResponse]
Error: 
ErrorDescription: 
Scopes: Directory.AccessAsUser.All Directory.Read.All Directory.ReadWrite.All email openid profile User.Read User.Read.All User.ReadBasic.All UserAuthenticationMethod.Read.All 
ExpiresIn: 5079
RefreshIn: 
AccessToken returned: True
AccessToken Type: Bearer
RefreshToken returned: False
IdToken returned: True
ClientInfo returned: True
FamilyId: 
WamAccountId exists: False

2023-11-28 19:40:59.717 +01:00 [Information] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:40:59Z] [Region discovery] Not using a regional authority. 
2023-11-28 19:40:59.718 +01:00 [Debug] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:40:59Z] [Instance Discovery] Tried to use network cache provider for login.microsoftonline.com. Success? True. 
2023-11-28 19:40:59.721 +01:00 [Debug] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:40:59Z] [SaveTokenResponseAsync] Entering token cache semaphore. Count Real semaphore: True. Count: 1.
2023-11-28 19:40:59.725 +01:00 [Debug] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:40:59Z] [SaveTokenResponseAsync] Entered token cache semaphore. 
2023-11-28 19:40:59.727 +01:00 [Information] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:40:59Z] [SaveTokenResponseAsync] Saving AT in cache and removing overlapping ATs...
2023-11-28 19:40:59.729 +01:00 [Information] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:40:59Z] Looking for scopes for the authority in the cache which intersect with User.ReadBasic.All user.read
2023-11-28 19:40:59.731 +01:00 [Information] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:40:59Z] [Internal cache] Total number of cache partitions found while getting access tokens: 0
2023-11-28 19:40:59.732 +01:00 [Information] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:40:59Z] Intersecting scope entries count - 0
2023-11-28 19:40:59.733 +01:00 [Information] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:40:59Z] Matching entries after filtering by user - 0
2023-11-28 19:40:59.736 +01:00 [Information] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:40:59Z] [SaveTokenResponseAsync] Saving Id Token and Account in cache ...
2023-11-28 19:40:59.744 +01:00 [Debug] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:40:59Z] Not saving to ADAL legacy cache. 
2023-11-28 19:40:59.745 +01:00 [Debug] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:40:59Z] [SaveTokenResponseAsync] Released token cache semaphore. 
2023-11-28 19:40:59.762 +01:00 [Information] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:40:59Z] 
	=== Token Acquisition finished successfully:
2023-11-28 19:40:59.766 +01:00 [Information] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:40:59Z]  AT expiration time: 28.11.2023 20:05:38 +00:00, scopes: Directory.AccessAsUser.All Directory.Read.All Directory.ReadWrite.All email openid profile User.Read User.Read.All User.ReadBasic.All UserAuthenticationMethod.Read.All. source: IdentityProvider
2023-11-28 19:40:59.768 +01:00 [Information] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:40:59Z] Fetched access token from host login.microsoftonline.com. 
2023-11-28 19:40:59.774 +01:00 [Information] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:40:59Z] 
[LogMetricsFromAuthResult] Cache Refresh Reason: NoCachedAccessToken
[LogMetricsFromAuthResult] DurationInCacheInMs: 0
[LogMetricsFromAuthResult] DurationTotalInMs: 1537
[LogMetricsFromAuthResult] DurationInHttpInMs: 1120

2023-11-28 19:40:59.777 +01:00 [Information] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:40:59Z] TokenEndpoint: ****
2023-11-28 19:40:59.797 +01:00 [Debug] [Microsoft.Identity.Web.TokenAcquisition] [{ Id: 301, Name: "TokenAcquisitionMsalAuthenticationResultTime" }] [MsIdWeb] Time to get token with MSAL: DurationTotalInMs: 1537 DurationInHttpInMs: 1120 DurationInCacheInMs: 0 TokenSource: "IdentityProvider" CorrelationId: "00000000-0000-0000-0000-000000000000" CacheRefreshReason: "NoCachedAccessToken" 
2023-11-28 19:40:59.810 +01:00 [Information] [System.Net.Http.HttpClient.GraphServiceClient.LogicalHandler] [{ Id: 100, Name: "RequestPipelineStart" }] Start processing HTTP request "GET" "https://graph.microsoft.com/v1.0/me"
2023-11-28 19:40:59.811 +01:00 [Information] [System.Net.Http.HttpClient.GraphServiceClient.ClientHandler] [{ Id: 100, Name: "RequestStart" }] Sending HTTP request "GET" "https://graph.microsoft.com/v1.0/me"
2023-11-28 19:41:00.479 +01:00 [Information] [System.Net.Http.HttpClient.GraphServiceClient.ClientHandler] [{ Id: 101, Name: "RequestEnd" }] Received HTTP response headers after 667.4498ms - 200
2023-11-28 19:41:00.480 +01:00 [Information] [System.Net.Http.HttpClient.GraphServiceClient.LogicalHandler] [{ Id: 101, Name: "RequestPipelineEnd" }] End processing HTTP request after 670.2973ms - 200
2023-11-28 19:41:00.518 +01:00 [Information] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] [{ Id: 103, Name: "ActionMethodExecuted" }] Executed action method "ApiWithMutlipleApis.Controllers.GraphApiCallsController.Get (ApiWithMutlipleApis)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 2705.1347ms.
2023-11-28 19:41:00.522 +01:00 [Debug] [Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector] [{ Id: 11, Name: "RegisteredOutputFormatters" }] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-11-28 19:41:00.524 +01:00 [Debug] [Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector] [{ Id: 4, Name: "NoAcceptForNegotiation" }] No information found on request to perform content negotiation.
2023-11-28 19:41:00.525 +01:00 [Debug] [Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector] [{ Id: 8, Name: "SelectingOutputFormatterWithoutUsingContentTypes" }] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-11-28 19:41:00.525 +01:00 [Debug] [Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector] [{ Id: 10, Name: "SelectingFirstCanWriteFormatter" }] Attempting to select the first formatter in the output formatters list which can write the result.
2023-11-28 19:41:00.527 +01:00 [Debug] [Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector] [{ Id: 2, Name: "FormatterSelected" }] Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/json"' to write the response.
2023-11-28 19:41:00.528 +01:00 [Information] [Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] [{ Id: 1, Name: "ObjectResultExecuting" }] Executing "ObjectResult", writing value of type '"System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
2023-11-28 19:41:00.530 +01:00 [Information] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] [{ Id: 105, Name: "ActionExecuted" }] Executed action "ApiWithMutlipleApis.Controllers.GraphApiCallsController.Get (ApiWithMutlipleApis)" in 3819.4763ms
2023-11-28 19:41:00.533 +01:00 [Information] [Microsoft.AspNetCore.Routing.EndpointMiddleware] [{ Id: 1, Name: "ExecutedEndpoint" }] Executed endpoint '"ApiWithMutlipleApis.Controllers.GraphApiCallsController.Get (ApiWithMutlipleApis)"'
2023-11-28 19:41:00.536 +01:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2 }] Request finished "HTTP/2" "GET" "https"://"localhost:44390""""/GraphApiCalls""" - 200 null "application/json; charset=utf-8" 3866.1701ms
2023-11-28 19:41:08.424 +01:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1 }] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:44390""""/ServiceApiCalls""" - null null
2023-11-28 19:41:08.425 +01:00 [Debug] [Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware] [{ Id: 1, Name: "MethodNotSupported" }] "OPTIONS" requests are not supported
2023-11-28 19:41:08.426 +01:00 [Debug] [Microsoft.AspNetCore.Cors.Infrastructure.CorsService] [{ Id: 2, Name: "RequestHasOriginHeader" }] The request has an origin header: '"https://localhost:4200"'.
2023-11-28 19:41:08.427 +01:00 [Information] [Microsoft.AspNetCore.Cors.Infrastructure.CorsService] [{ Id: 4, Name: "PolicySuccess" }] CORS policy execution successful.
2023-11-28 19:41:08.428 +01:00 [Debug] [Microsoft.AspNetCore.Cors.Infrastructure.CorsService] [{ Id: 1, Name: "IsPreflightRequest" }] The request is a preflight request.
2023-11-28 19:41:08.429 +01:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2 }] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:44390""""/ServiceApiCalls""" - 204 null null 5.9767ms
2023-11-28 19:41:08.434 +01:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1 }] Request starting "HTTP/2" "GET" "https"://"localhost:44390""""/ServiceApiCalls""" - null null
2023-11-28 19:41:08.436 +01:00 [Debug] [Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware] [{ Id: 4, Name: "FileTypeNotSupported" }] The request path "/ServiceApiCalls" does not match a supported file type
2023-11-28 19:41:08.437 +01:00 [Debug] [Microsoft.AspNetCore.Cors.Infrastructure.CorsService] [{ Id: 2, Name: "RequestHasOriginHeader" }] The request has an origin header: '"https://localhost:4200"'.
2023-11-28 19:41:08.440 +01:00 [Information] [Microsoft.AspNetCore.Cors.Infrastructure.CorsService] [{ Id: 4, Name: "PolicySuccess" }] CORS policy execution successful.
2023-11-28 19:41:08.441 +01:00 [Debug] [Microsoft.AspNetCore.Routing.Matching.DfaMatcher] [{ Id: 1001, Name: "CandidatesFound" }] 1 candidate(s) found for the request path '"/ServiceApiCalls"'
2023-11-28 19:41:08.442 +01:00 [Debug] [Microsoft.AspNetCore.Routing.Matching.DfaMatcher] [{ Id: 1005, Name: "CandidateValid" }] Endpoint '"ApiWithMutlipleApis.Controllers.ServiceApiCallsController.Get (ApiWithMutlipleApis)"' with route pattern '"ServiceApiCalls"' is valid for the request path '"/ServiceApiCalls"'
2023-11-28 19:41:08.442 +01:00 [Debug] [Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware] [{ Id: 1, Name: "MatchSuccess" }] Request matched endpoint '"ApiWithMutlipleApis.Controllers.ServiceApiCallsController.Get (ApiWithMutlipleApis)"'
2023-11-28 19:41:08.446 +01:00 [Information] [Microsoft.IdentityModel.LoggingExtensions.IdentityLoggerAdapter] [] IDX10242: Security token: '[Security Artifact of type 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken' is hidden. For more details, see https://aka.ms/IdentityModel/SecurityArtifactLogging.]' has a valid signature.
2023-11-28 19:41:08.448 +01:00 [Debug] [Microsoft.IdentityModel.LoggingExtensions.IdentityLoggerAdapter] [] IDX10237: ValidateIssuerSigningKey property on ValidationParameters is set to false. Exiting without validating the issuer signing key.
2023-11-28 19:41:08.449 +01:00 [Information] [Microsoft.IdentityModel.LoggingExtensions.IdentityLoggerAdapter] [] IDX10239: Lifetime of the token is valid.
2023-11-28 19:41:08.450 +01:00 [Information] [Microsoft.IdentityModel.LoggingExtensions.IdentityLoggerAdapter] [] IDX10234: Audience Validated.Audience: '2b50a014-f353-4c10-aace-024f19a55569'
2023-11-28 19:41:08.451 +01:00 [Debug] [Microsoft.IdentityModel.LoggingExtensions.IdentityLoggerAdapter] [] IDX10246: ValidateTokenReplay property on ValidationParameters is set to false. Exiting without validating the token replay.
2023-11-28 19:41:08.452 +01:00 [Debug] [Microsoft.IdentityModel.LoggingExtensions.IdentityLoggerAdapter] [] IDX10255: TypeValidator property on ValidationParameters is null and ValidTypes is either null or empty. Exiting without validating the token type.
2023-11-28 19:41:08.454 +01:00 [Information] [Microsoft.IdentityModel.LoggingExtensions.IdentityLoggerAdapter] [] IDX10245: Creating claims identity from the validated token: '[Security Artifact of type 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken' is hidden. For more details, see https://aka.ms/IdentityModel/SecurityArtifactLogging.]'.
2023-11-28 19:41:08.455 +01:00 [Debug] [Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler] [{ Id: 2, Name: "TokenValidationSucceeded" }] Successfully validated the token.
2023-11-28 19:41:08.456 +01:00 [Debug] [Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler] [{ Id: 8, Name: "AuthenticationSchemeAuthenticated" }] AuthenticationScheme: "Bearer" was successfully authenticated.
2023-11-28 19:41:08.457 +01:00 [Debug] [Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler] [{ Id: 8, Name: "AuthenticationSchemeAuthenticated" }] AuthenticationScheme: "Bearer" was successfully authenticated.
2023-11-28 19:41:08.457 +01:00 [Debug] [Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] [{ Id: 1, Name: "UserAuthorizationSucceeded" }] Authorization was successful.
2023-11-28 19:41:08.458 +01:00 [Information] [Microsoft.AspNetCore.Routing.EndpointMiddleware] [{ Name: "ExecutingEndpoint" }] Executing endpoint '"ApiWithMutlipleApis.Controllers.ServiceApiCallsController.Get (ApiWithMutlipleApis)"'
2023-11-28 19:41:08.468 +01:00 [Information] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] [{ Id: 102, Name: "ControllerActionExecuting" }] Route matched with "{action = \"Get\", controller = \"ServiceApiCalls\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[System.String]] Get()" on controller "ApiWithMutlipleApis.Controllers.ServiceApiCallsController" ("ApiWithMutlipleApis").
2023-11-28 19:41:08.471 +01:00 [Debug] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] [{ Id: 1, Name: "FilterExecutionPlan" }] Execution plan of "authorization" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter"]
2023-11-28 19:41:08.472 +01:00 [Debug] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] [{ Id: 1, Name: "FilterExecutionPlan" }] Execution plan of "resource" filters (in the following order): ["None"]
2023-11-28 19:41:08.473 +01:00 [Debug] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] [{ Id: 1, Name: "FilterExecutionPlan" }] Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-11-28 19:41:08.474 +01:00 [Debug] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] [{ Id: 1, Name: "FilterExecutionPlan" }] Execution plan of "exception" filters (in the following order): ["Microsoft.Identity.Web.AuthorizeForScopesAttribute (Order: 0)"]
2023-11-28 19:41:08.475 +01:00 [Debug] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] [{ Id: 1, Name: "FilterExecutionPlan" }] Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-11-28 19:41:08.475 +01:00 [Debug] [Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler] [{ Id: 8, Name: "AuthenticationSchemeAuthenticated" }] AuthenticationScheme: "Bearer" was successfully authenticated.
2023-11-28 19:41:08.476 +01:00 [Debug] [Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] [{ Id: 1, Name: "UserAuthorizationSucceeded" }] Authorization was successful.
2023-11-28 19:41:08.477 +01:00 [Debug] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] [{ Id: 1, Name: "ControllerFactoryExecuting" }] Executing controller factory for controller "ApiWithMutlipleApis.Controllers.ServiceApiCallsController" ("ApiWithMutlipleApis")
2023-11-28 19:41:08.480 +01:00 [Debug] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] [{ Id: 2, Name: "ControllerFactoryExecuted" }] Executed controller factory for controller "ApiWithMutlipleApis.Controllers.ServiceApiCallsController" ("ApiWithMutlipleApis")
2023-11-28 19:41:08.540 +01:00 [Information] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] [{ Id: 101, Name: "ActionMethodExecuting" }] Executing action method "ApiWithMutlipleApis.Controllers.ServiceApiCallsController.Get (ApiWithMutlipleApis)" - Validation state: Valid
2023-11-28 19:41:08.553 +01:00 [Debug] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:41:08Z] ConfidentialClientApplication 23019563 created
2023-11-28 19:41:08.560 +01:00 [Information] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:41:08Z - a22a9194-2e8e-4ca1-bfaa-f1e2e14356d6] MSAL MSAL.NetCore with assembly version '4.57.0.0'. CorrelationId(a22a9194-2e8e-4ca1-bfaa-f1e2e14356d6)
2023-11-28 19:41:08.561 +01:00 [Information] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:41:08Z - a22a9194-2e8e-4ca1-bfaa-f1e2e14356d6] === AcquireTokenForClientParameters ===
SendX5C: False
ForceRefresh: False

2023-11-28 19:41:08.562 +01:00 [Information] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:41:08Z - a22a9194-2e8e-4ca1-bfaa-f1e2e14356d6] 
=== Request Data ===
Authority Provided? - True
Scopes - api://b178f3a5-7588-492a-924f-72d7887b7e48/.default
Extra Query Params Keys (space separated) - 
ApiId - AcquireTokenForClient
IsConfidentialClient - True
SendX5C - False
LoginHint ? False
IsBrokerConfigured - False
HomeAccountId - False
CorrelationId - a22a9194-2e8e-4ca1-bfaa-f1e2e14356d6
UserAssertion set: False
LongRunningOboCacheKey set: False
Region configured: 

2023-11-28 19:41:08.564 +01:00 [Information] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:41:08Z - a22a9194-2e8e-4ca1-bfaa-f1e2e14356d6] === Token Acquisition (ClientCredentialRequest) started:
	 Scopes: api://b178f3a5-7588-492a-924f-72d7887b7e48/.default
	Authority Host: login.microsoftonline.com
2023-11-28 19:41:08.575 +01:00 [Information] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:41:08Z - a22a9194-2e8e-4ca1-bfaa-f1e2e14356d6] [Internal cache] Total number of cache partitions found while getting access tokens: 0
2023-11-28 19:41:08.576 +01:00 [Information] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:41:08Z - a22a9194-2e8e-4ca1-bfaa-f1e2e14356d6] [FindAccessTokenAsync] Discovered 0 access tokens in cache using partition key: 2b50a014-f353-4c10-aace-024f19a55569_7ff95b15-dc21-4ba6-bc92-824856578fc1_AppTokenCache
2023-11-28 19:41:08.576 +01:00 [Debug] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:41:08Z - a22a9194-2e8e-4ca1-bfaa-f1e2e14356d6] [FindAccessTokenAsync] No access tokens found in the cache. Skipping filtering. 
2023-11-28 19:41:08.581 +01:00 [Information] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:41:08Z - a22a9194-2e8e-4ca1-bfaa-f1e2e14356d6] [Instance Discovery] Instance discovery is enabled and will be performed
2023-11-28 19:41:08.590 +01:00 [Debug] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:41:08Z - a22a9194-2e8e-4ca1-bfaa-f1e2e14356d6] [Region discovery] WithAzureRegion not configured. 
2023-11-28 19:41:08.592 +01:00 [Information] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:41:08Z - a22a9194-2e8e-4ca1-bfaa-f1e2e14356d6] [Region discovery] Not using a regional authority. 
2023-11-28 19:41:08.593 +01:00 [Debug] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:41:08Z - a22a9194-2e8e-4ca1-bfaa-f1e2e14356d6] [Instance Discovery] Tried to use network cache provider for login.microsoftonline.com. Success? True. 
2023-11-28 19:41:08.594 +01:00 [Debug] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:41:08Z - a22a9194-2e8e-4ca1-bfaa-f1e2e14356d6] [Instance Discovery] The network provider found an entry for login.microsoftonline.com. 
2023-11-28 19:41:08.597 +01:00 [Debug] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:41:08Z - a22a9194-2e8e-4ca1-bfaa-f1e2e14356d6] Starting TokenClient:SendTokenRequestAsync
2023-11-28 19:41:08.599 +01:00 [Debug] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:41:08Z - a22a9194-2e8e-4ca1-bfaa-f1e2e14356d6] [TokenClient] Before adding the client assertion / secret
2023-11-28 19:41:08.600 +01:00 [Debug] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:41:08Z - a22a9194-2e8e-4ca1-bfaa-f1e2e14356d6] [TokenClient] After adding the client assertion / secret
2023-11-28 19:41:08.601 +01:00 [Debug] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:41:08Z - a22a9194-2e8e-4ca1-bfaa-f1e2e14356d6] [Token Client] Fetching MsalTokenResponse .... 
2023-11-28 19:41:08.602 +01:00 [Debug] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:41:08Z - a22a9194-2e8e-4ca1-bfaa-f1e2e14356d6] Starting [Oauth2Client] Sending POST request 
2023-11-28 19:41:08.604 +01:00 [Debug] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:41:08Z - a22a9194-2e8e-4ca1-bfaa-f1e2e14356d6] Starting [HttpManager] ExecuteAsync
2023-11-28 19:41:08.605 +01:00 [Debug] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:41:08Z - a22a9194-2e8e-4ca1-bfaa-f1e2e14356d6] [HttpManager] Sending request. Method: POST. Host: https://login.microsoftonline.com. 
2023-11-28 19:41:08.607 +01:00 [Information] [System.Net.Http.HttpClient.Default.LogicalHandler] [{ Id: 100, Name: "RequestPipelineStart" }] Start processing HTTP request "POST" "https://login.microsoftonline.com/7ff95b15-dc21-4ba6-bc92-824856578fc1/oauth2/v2.0/token"
2023-11-28 19:41:08.608 +01:00 [Information] [System.Net.Http.HttpClient.Default.ClientHandler] [{ Id: 100, Name: "RequestStart" }] Sending HTTP request "POST" "https://login.microsoftonline.com/7ff95b15-dc21-4ba6-bc92-824856578fc1/oauth2/v2.0/token"
2023-11-28 19:41:09.069 +01:00 [Information] [System.Net.Http.HttpClient.Default.ClientHandler] [{ Id: 101, Name: "RequestEnd" }] Received HTTP response headers after 461.0338ms - 200
2023-11-28 19:41:09.070 +01:00 [Information] [System.Net.Http.HttpClient.Default.LogicalHandler] [{ Id: 101, Name: "RequestPipelineEnd" }] End processing HTTP request after 463.499ms - 200
2023-11-28 19:41:09.071 +01:00 [Debug] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:41:09Z - a22a9194-2e8e-4ca1-bfaa-f1e2e14356d6] [HttpManager] Received response. Status code: OK. 
2023-11-28 19:41:09.071 +01:00 [Debug] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:41:09Z - a22a9194-2e8e-4ca1-bfaa-f1e2e14356d6] Finished [HttpManager] ExecuteAsync in 467 ms
2023-11-28 19:41:09.072 +01:00 [Debug] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:41:09Z - a22a9194-2e8e-4ca1-bfaa-f1e2e14356d6] Finished [Oauth2Client] Sending POST request  in 469 ms
2023-11-28 19:41:09.072 +01:00 [Debug] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:41:09Z - a22a9194-2e8e-4ca1-bfaa-f1e2e14356d6] Starting [OAuth2Client] Deserializing response
2023-11-28 19:41:09.073 +01:00 [Debug] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:41:09Z - a22a9194-2e8e-4ca1-bfaa-f1e2e14356d6] Finished [OAuth2Client] Deserializing response in 0 ms
2023-11-28 19:41:09.073 +01:00 [Information] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:41:09Z - a22a9194-2e8e-4ca1-bfaa-f1e2e14356d6] ScopeSet was missing from the token response, so using developer provided scopes in the result. 
2023-11-28 19:41:09.073 +01:00 [Debug] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:41:09Z - a22a9194-2e8e-4ca1-bfaa-f1e2e14356d6] Finished TokenClient:SendTokenRequestAsync in 476 ms
2023-11-28 19:41:09.074 +01:00 [Information] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:41:09Z - a22a9194-2e8e-4ca1-bfaa-f1e2e14356d6] Checking client info returned from the server..
2023-11-28 19:41:09.075 +01:00 [Information] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:41:09Z - a22a9194-2e8e-4ca1-bfaa-f1e2e14356d6] Saving token response to cache..
2023-11-28 19:41:09.075 +01:00 [Debug] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:41:09Z - a22a9194-2e8e-4ca1-bfaa-f1e2e14356d6] 
[MsalTokenResponse]
Error: 
ErrorDescription: 
Scopes: api://b178f3a5-7588-492a-924f-72d7887b7e48/.default 
ExpiresIn: 3599
RefreshIn: 
AccessToken returned: True
AccessToken Type: Bearer
RefreshToken returned: False
IdToken returned: False
ClientInfo returned: False
FamilyId: 
WamAccountId exists: False

2023-11-28 19:41:09.076 +01:00 [Information] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:41:09Z - a22a9194-2e8e-4ca1-bfaa-f1e2e14356d6] [SaveTokenResponseAsync] ID Token not present in response. 
2023-11-28 19:41:09.077 +01:00 [Information] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:41:09Z - a22a9194-2e8e-4ca1-bfaa-f1e2e14356d6] Cannot determine home account ID - or id token or no client info and no subject 
2023-11-28 19:41:09.077 +01:00 [Debug] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:41:09Z - a22a9194-2e8e-4ca1-bfaa-f1e2e14356d6] [SaveTokenResponseAsync] Entering token cache semaphore. Count Real semaphore: True. Count: 1.
2023-11-28 19:41:09.077 +01:00 [Debug] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:41:09Z - a22a9194-2e8e-4ca1-bfaa-f1e2e14356d6] [SaveTokenResponseAsync] Entered token cache semaphore. 
2023-11-28 19:41:09.078 +01:00 [Information] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:41:09Z - a22a9194-2e8e-4ca1-bfaa-f1e2e14356d6] [SaveTokenResponseAsync] Saving AT in cache and removing overlapping ATs...
2023-11-28 19:41:09.078 +01:00 [Information] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:41:09Z - a22a9194-2e8e-4ca1-bfaa-f1e2e14356d6] Looking for scopes for the authority in the cache which intersect with api://b178f3a5-7588-492a-924f-72d7887b7e48/.default
2023-11-28 19:41:09.078 +01:00 [Information] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:41:09Z] [Internal cache] Total number of cache partitions found while getting access tokens: 0
2023-11-28 19:41:09.079 +01:00 [Information] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:41:09Z - a22a9194-2e8e-4ca1-bfaa-f1e2e14356d6] Intersecting scope entries count - 0
2023-11-28 19:41:09.079 +01:00 [Debug] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:41:09Z - a22a9194-2e8e-4ca1-bfaa-f1e2e14356d6] Not saving to ADAL legacy cache. 
2023-11-28 19:41:09.080 +01:00 [Debug] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:41:09Z - a22a9194-2e8e-4ca1-bfaa-f1e2e14356d6] [SaveTokenResponseAsync] Released token cache semaphore. 
2023-11-28 19:41:09.081 +01:00 [Information] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:41:09Z - a22a9194-2e8e-4ca1-bfaa-f1e2e14356d6] 
	=== Token Acquisition finished successfully:
2023-11-28 19:41:09.081 +01:00 [Information] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:41:09Z - a22a9194-2e8e-4ca1-bfaa-f1e2e14356d6]  AT expiration time: 28.11.2023 19:41:08 +00:00, scopes: api://b178f3a5-7588-492a-924f-72d7887b7e48/.default. source: IdentityProvider
2023-11-28 19:41:09.082 +01:00 [Information] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:41:09Z - a22a9194-2e8e-4ca1-bfaa-f1e2e14356d6] Fetched access token from host login.microsoftonline.com. 
2023-11-28 19:41:09.082 +01:00 [Information] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:41:09Z - a22a9194-2e8e-4ca1-bfaa-f1e2e14356d6] 
[LogMetricsFromAuthResult] Cache Refresh Reason: NoCachedAccessToken
[LogMetricsFromAuthResult] DurationInCacheInMs: 0
[LogMetricsFromAuthResult] DurationTotalInMs: 520
[LogMetricsFromAuthResult] DurationInHttpInMs: 464

2023-11-28 19:41:09.083 +01:00 [Information] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:41:09Z - a22a9194-2e8e-4ca1-bfaa-f1e2e14356d6] TokenEndpoint: ****
2023-11-28 19:41:09.088 +01:00 [Information] [System.Net.Http.HttpClient.Default.LogicalHandler] [{ Id: 100, Name: "RequestPipelineStart" }] Start processing HTTP request "GET" "https://localhost:44324/ApiForServiceData"
2023-11-28 19:41:09.088 +01:00 [Information] [System.Net.Http.HttpClient.Default.ClientHandler] [{ Id: 100, Name: "RequestStart" }] Sending HTTP request "GET" "https://localhost:44324/ApiForServiceData"
2023-11-28 19:41:12.858 +01:00 [Information] [System.Net.Http.HttpClient.Default.ClientHandler] [{ Id: 101, Name: "RequestEnd" }] Received HTTP response headers after 3768.9646ms - 403
2023-11-28 19:41:12.860 +01:00 [Information] [System.Net.Http.HttpClient.Default.LogicalHandler] [{ Id: 101, Name: "RequestPipelineEnd" }] End processing HTTP request after 3772.2362ms - 403
2023-11-28 19:41:18.411 +01:00 [Information] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] [{ Id: 105, Name: "ActionExecuted" }] Executed action "ApiWithMutlipleApis.Controllers.ServiceApiCallsController.Get (ApiWithMutlipleApis)" in 9935.336ms
2023-11-28 19:41:18.771 +01:00 [Information] [Microsoft.AspNetCore.Routing.EndpointMiddleware] [{ Id: 1, Name: "ExecutedEndpoint" }] Executed endpoint '"ApiWithMutlipleApis.Controllers.ServiceApiCallsController.Get (ApiWithMutlipleApis)"'
2023-11-28 19:41:19.465 +01:00 [Error] [Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware] [{ Id: 1, Name: "UnhandledException" }] An unhandled exception has occurred while executing the request.
System.ApplicationException: oh no...
   at ApiWithMutlipleApis.Services.ServiceApiClientService.GetApiDataAsync() in C:\repos\git\damienbod\AzureADAuthRazorUiServiceApiCertificate\AngularAzureADMultipleApis\ApiWithMutlipleApis\Services\ServiceApiClientService.cs:line 45
   at ApiWithMutlipleApis.Controllers.ServiceApiCallsController.Get() in C:\repos\git\damienbod\AzureADAuthRazorUiServiceApiCertificate\AngularAzureADMultipleApis\ApiWithMutlipleApis\Controllers\ServiceApiCallsController.cs:line 25
   at lambda_method16(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextExceptionFilterAsync>g__Awaited|26_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ExceptionContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2023-11-28 19:41:19.540 +01:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2 }] Request finished "HTTP/2" "GET" "https"://"localhost:44390""""/ServiceApiCalls""" - 500 null "text/plain; charset=utf-8" 11106.3264ms
2023-11-28 19:41:22.409 +01:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1 }] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:44390""""/ServiceApiCalls""" - null null
2023-11-28 19:41:22.410 +01:00 [Debug] [Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware] [{ Id: 1, Name: "MethodNotSupported" }] "OPTIONS" requests are not supported
2023-11-28 19:41:22.410 +01:00 [Debug] [Microsoft.AspNetCore.Cors.Infrastructure.CorsService] [{ Id: 2, Name: "RequestHasOriginHeader" }] The request has an origin header: '"https://localhost:4200"'.
2023-11-28 19:41:22.410 +01:00 [Information] [Microsoft.AspNetCore.Cors.Infrastructure.CorsService] [{ Id: 4, Name: "PolicySuccess" }] CORS policy execution successful.
2023-11-28 19:41:22.411 +01:00 [Debug] [Microsoft.AspNetCore.Cors.Infrastructure.CorsService] [{ Id: 1, Name: "IsPreflightRequest" }] The request is a preflight request.
2023-11-28 19:41:22.411 +01:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2 }] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:44390""""/ServiceApiCalls""" - 204 null null 2.7495ms
2023-11-28 19:41:22.414 +01:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1 }] Request starting "HTTP/2" "GET" "https"://"localhost:44390""""/ServiceApiCalls""" - null null
2023-11-28 19:41:22.415 +01:00 [Debug] [Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware] [{ Id: 4, Name: "FileTypeNotSupported" }] The request path "/ServiceApiCalls" does not match a supported file type
2023-11-28 19:41:22.416 +01:00 [Debug] [Microsoft.AspNetCore.Cors.Infrastructure.CorsService] [{ Id: 2, Name: "RequestHasOriginHeader" }] The request has an origin header: '"https://localhost:4200"'.
2023-11-28 19:41:22.417 +01:00 [Information] [Microsoft.AspNetCore.Cors.Infrastructure.CorsService] [{ Id: 4, Name: "PolicySuccess" }] CORS policy execution successful.
2023-11-28 19:41:22.417 +01:00 [Debug] [Microsoft.AspNetCore.Routing.Matching.DfaMatcher] [{ Id: 1001, Name: "CandidatesFound" }] 1 candidate(s) found for the request path '"/ServiceApiCalls"'
2023-11-28 19:41:22.418 +01:00 [Debug] [Microsoft.AspNetCore.Routing.Matching.DfaMatcher] [{ Id: 1005, Name: "CandidateValid" }] Endpoint '"ApiWithMutlipleApis.Controllers.ServiceApiCallsController.Get (ApiWithMutlipleApis)"' with route pattern '"ServiceApiCalls"' is valid for the request path '"/ServiceApiCalls"'
2023-11-28 19:41:22.419 +01:00 [Debug] [Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware] [{ Id: 1, Name: "MatchSuccess" }] Request matched endpoint '"ApiWithMutlipleApis.Controllers.ServiceApiCallsController.Get (ApiWithMutlipleApis)"'
2023-11-28 19:41:22.420 +01:00 [Information] [Microsoft.IdentityModel.LoggingExtensions.IdentityLoggerAdapter] [] IDX10242: Security token: '[Security Artifact of type 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken' is hidden. For more details, see https://aka.ms/IdentityModel/SecurityArtifactLogging.]' has a valid signature.
2023-11-28 19:41:22.421 +01:00 [Debug] [Microsoft.IdentityModel.LoggingExtensions.IdentityLoggerAdapter] [] IDX10237: ValidateIssuerSigningKey property on ValidationParameters is set to false. Exiting without validating the issuer signing key.
2023-11-28 19:41:22.421 +01:00 [Information] [Microsoft.IdentityModel.LoggingExtensions.IdentityLoggerAdapter] [] IDX10239: Lifetime of the token is valid.
2023-11-28 19:41:22.421 +01:00 [Information] [Microsoft.IdentityModel.LoggingExtensions.IdentityLoggerAdapter] [] IDX10234: Audience Validated.Audience: '2b50a014-f353-4c10-aace-024f19a55569'
2023-11-28 19:41:22.422 +01:00 [Debug] [Microsoft.IdentityModel.LoggingExtensions.IdentityLoggerAdapter] [] IDX10246: ValidateTokenReplay property on ValidationParameters is set to false. Exiting without validating the token replay.
2023-11-28 19:41:22.422 +01:00 [Debug] [Microsoft.IdentityModel.LoggingExtensions.IdentityLoggerAdapter] [] IDX10255: TypeValidator property on ValidationParameters is null and ValidTypes is either null or empty. Exiting without validating the token type.
2023-11-28 19:41:22.422 +01:00 [Information] [Microsoft.IdentityModel.LoggingExtensions.IdentityLoggerAdapter] [] IDX10245: Creating claims identity from the validated token: '[Security Artifact of type 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken' is hidden. For more details, see https://aka.ms/IdentityModel/SecurityArtifactLogging.]'.
2023-11-28 19:41:22.423 +01:00 [Debug] [Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler] [{ Id: 2, Name: "TokenValidationSucceeded" }] Successfully validated the token.
2023-11-28 19:41:22.423 +01:00 [Debug] [Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler] [{ Id: 8, Name: "AuthenticationSchemeAuthenticated" }] AuthenticationScheme: "Bearer" was successfully authenticated.
2023-11-28 19:41:22.424 +01:00 [Debug] [Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler] [{ Id: 8, Name: "AuthenticationSchemeAuthenticated" }] AuthenticationScheme: "Bearer" was successfully authenticated.
2023-11-28 19:41:22.424 +01:00 [Debug] [Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] [{ Id: 1, Name: "UserAuthorizationSucceeded" }] Authorization was successful.
2023-11-28 19:41:22.424 +01:00 [Information] [Microsoft.AspNetCore.Routing.EndpointMiddleware] [{ Name: "ExecutingEndpoint" }] Executing endpoint '"ApiWithMutlipleApis.Controllers.ServiceApiCallsController.Get (ApiWithMutlipleApis)"'
2023-11-28 19:41:22.425 +01:00 [Information] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] [{ Id: 102, Name: "ControllerActionExecuting" }] Route matched with "{action = \"Get\", controller = \"ServiceApiCalls\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[System.String]] Get()" on controller "ApiWithMutlipleApis.Controllers.ServiceApiCallsController" ("ApiWithMutlipleApis").
2023-11-28 19:41:22.426 +01:00 [Debug] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] [{ Id: 1, Name: "FilterExecutionPlan" }] Execution plan of "authorization" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter"]
2023-11-28 19:41:22.426 +01:00 [Debug] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] [{ Id: 1, Name: "FilterExecutionPlan" }] Execution plan of "resource" filters (in the following order): ["None"]
2023-11-28 19:41:22.427 +01:00 [Debug] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] [{ Id: 1, Name: "FilterExecutionPlan" }] Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-11-28 19:41:22.427 +01:00 [Debug] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] [{ Id: 1, Name: "FilterExecutionPlan" }] Execution plan of "exception" filters (in the following order): ["Microsoft.Identity.Web.AuthorizeForScopesAttribute (Order: 0)"]
2023-11-28 19:41:22.428 +01:00 [Debug] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] [{ Id: 1, Name: "FilterExecutionPlan" }] Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-11-28 19:41:22.428 +01:00 [Debug] [Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler] [{ Id: 8, Name: "AuthenticationSchemeAuthenticated" }] AuthenticationScheme: "Bearer" was successfully authenticated.
2023-11-28 19:41:22.429 +01:00 [Debug] [Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] [{ Id: 1, Name: "UserAuthorizationSucceeded" }] Authorization was successful.
2023-11-28 19:41:22.429 +01:00 [Debug] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] [{ Id: 1, Name: "ControllerFactoryExecuting" }] Executing controller factory for controller "ApiWithMutlipleApis.Controllers.ServiceApiCallsController" ("ApiWithMutlipleApis")
2023-11-28 19:41:22.430 +01:00 [Debug] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] [{ Id: 2, Name: "ControllerFactoryExecuted" }] Executed controller factory for controller "ApiWithMutlipleApis.Controllers.ServiceApiCallsController" ("ApiWithMutlipleApis")
2023-11-28 19:41:22.461 +01:00 [Information] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] [{ Id: 101, Name: "ActionMethodExecuting" }] Executing action method "ApiWithMutlipleApis.Controllers.ServiceApiCallsController.Get (ApiWithMutlipleApis)" - Validation state: Valid
2023-11-28 19:41:22.462 +01:00 [Debug] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:41:22Z] ConfidentialClientApplication 20578474 created
2023-11-28 19:41:22.463 +01:00 [Information] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:41:22Z - 2f6598f3-f41c-47bf-8593-5fe2d67915fb] MSAL MSAL.NetCore with assembly version '4.57.0.0'. CorrelationId(2f6598f3-f41c-47bf-8593-5fe2d67915fb)
2023-11-28 19:41:22.464 +01:00 [Information] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:41:22Z - 2f6598f3-f41c-47bf-8593-5fe2d67915fb] === AcquireTokenForClientParameters ===
SendX5C: False
ForceRefresh: False

2023-11-28 19:41:22.465 +01:00 [Information] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:41:22Z - 2f6598f3-f41c-47bf-8593-5fe2d67915fb] 
=== Request Data ===
Authority Provided? - True
Scopes - api://b178f3a5-7588-492a-924f-72d7887b7e48/.default
Extra Query Params Keys (space separated) - 
ApiId - AcquireTokenForClient
IsConfidentialClient - True
SendX5C - False
LoginHint ? False
IsBrokerConfigured - False
HomeAccountId - False
CorrelationId - 2f6598f3-f41c-47bf-8593-5fe2d67915fb
UserAssertion set: False
LongRunningOboCacheKey set: False
Region configured: 

2023-11-28 19:41:22.468 +01:00 [Information] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:41:22Z - 2f6598f3-f41c-47bf-8593-5fe2d67915fb] === Token Acquisition (ClientCredentialRequest) started:
	 Scopes: api://b178f3a5-7588-492a-924f-72d7887b7e48/.default
	Authority Host: login.microsoftonline.com
2023-11-28 19:41:22.469 +01:00 [Information] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:41:22Z - 2f6598f3-f41c-47bf-8593-5fe2d67915fb] [Internal cache] Total number of cache partitions found while getting access tokens: 1
2023-11-28 19:41:22.471 +01:00 [Information] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:41:22Z - 2f6598f3-f41c-47bf-8593-5fe2d67915fb] [FindAccessTokenAsync] Discovered 1 access tokens in cache using partition key: 2b50a014-f353-4c10-aace-024f19a55569_7ff95b15-dc21-4ba6-bc92-824856578fc1_AppTokenCache
2023-11-28 19:41:22.474 +01:00 [Debug] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:41:22Z - 2f6598f3-f41c-47bf-8593-5fe2d67915fb] Filtering AT by tenant id - item count before: 1 
2023-11-28 19:41:22.476 +01:00 [Debug] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:41:22Z - 2f6598f3-f41c-47bf-8593-5fe2d67915fb] Filtering AT by tenant id - item count after: 1 
2023-11-28 19:41:22.477 +01:00 [Debug] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:41:22Z - 2f6598f3-f41c-47bf-8593-5fe2d67915fb] Filtering by token type - item count before: 1 
2023-11-28 19:41:22.477 +01:00 [Debug] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:41:22Z - 2f6598f3-f41c-47bf-8593-5fe2d67915fb] Filtering by token type - item count after: 1 
2023-11-28 19:41:22.479 +01:00 [Debug] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:41:22Z - 2f6598f3-f41c-47bf-8593-5fe2d67915fb] Filtering by scopes - item count before: 1 
2023-11-28 19:41:22.481 +01:00 [Debug] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:41:22Z - 2f6598f3-f41c-47bf-8593-5fe2d67915fb] Access token with scopes api://b178f3a5-7588-492a-924f-72d7887b7e48/.default passes scope filter? True 
2023-11-28 19:41:22.481 +01:00 [Debug] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:41:22Z - 2f6598f3-f41c-47bf-8593-5fe2d67915fb] Filtering by scopes - item count after: 1 
2023-11-28 19:41:22.485 +01:00 [Debug] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:41:22Z - 2f6598f3-f41c-47bf-8593-5fe2d67915fb] [Region discovery] WithAzureRegion not configured. 
2023-11-28 19:41:22.486 +01:00 [Information] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:41:22Z - 2f6598f3-f41c-47bf-8593-5fe2d67915fb] [Region discovery] Not using a regional authority. 
2023-11-28 19:41:22.487 +01:00 [Debug] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:41:22Z - 2f6598f3-f41c-47bf-8593-5fe2d67915fb] [Instance Discovery] Tried to use network cache provider for login.microsoftonline.com. Success? True. 
2023-11-28 19:41:22.487 +01:00 [Debug] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:41:22Z - 2f6598f3-f41c-47bf-8593-5fe2d67915fb] Filtering AT by preferred environment login.windows.net - item count before: 1 
2023-11-28 19:41:22.489 +01:00 [Debug] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:41:22Z - 2f6598f3-f41c-47bf-8593-5fe2d67915fb] Filtering AT by preferred environment login.windows.net - item count after: 1 
2023-11-28 19:41:22.490 +01:00 [Debug] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:41:22Z - 2f6598f3-f41c-47bf-8593-5fe2d67915fb] Filtered AT by preferred alias returning 1 tokens.
2023-11-28 19:41:22.492 +01:00 [Debug] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:41:22Z - 2f6598f3-f41c-47bf-8593-5fe2d67915fb] Bearer token found
2023-11-28 19:41:22.494 +01:00 [Information] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:41:22Z - 2f6598f3-f41c-47bf-8593-5fe2d67915fb] Access token is not expired. Returning the found cache entry. [Current time (11/28/2023 18:41:22) - Expiration Time (11/28/2023 19:41:08 +00:00) - Extended Expiration Time (11/28/2023 19:41:08 +00:00)]
2023-11-28 19:41:22.497 +01:00 [Information] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:41:22Z - 2f6598f3-f41c-47bf-8593-5fe2d67915fb] 
	=== Token Acquisition finished successfully:
2023-11-28 19:41:22.498 +01:00 [Information] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:41:22Z - 2f6598f3-f41c-47bf-8593-5fe2d67915fb]  AT expiration time: 28.11.2023 19:41:08 +00:00, scopes: api://b178f3a5-7588-492a-924f-72d7887b7e48/.default. source: Cache
2023-11-28 19:41:22.499 +01:00 [Information] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:41:22Z - 2f6598f3-f41c-47bf-8593-5fe2d67915fb] 
[LogMetricsFromAuthResult] Cache Refresh Reason: NotApplicable
[LogMetricsFromAuthResult] DurationInCacheInMs: 0
[LogMetricsFromAuthResult] DurationTotalInMs: 33
[LogMetricsFromAuthResult] DurationInHttpInMs: 0

2023-11-28 19:41:22.500 +01:00 [Information] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:41:22Z - 2f6598f3-f41c-47bf-8593-5fe2d67915fb] TokenEndpoint: ****
2023-11-28 19:41:22.501 +01:00 [Information] [System.Net.Http.HttpClient.Default.LogicalHandler] [{ Id: 100, Name: "RequestPipelineStart" }] Start processing HTTP request "GET" "https://localhost:44324/ApiForServiceData"
2023-11-28 19:41:22.501 +01:00 [Information] [System.Net.Http.HttpClient.Default.ClientHandler] [{ Id: 100, Name: "RequestStart" }] Sending HTTP request "GET" "https://localhost:44324/ApiForServiceData"
2023-11-28 19:41:22.608 +01:00 [Information] [System.Net.Http.HttpClient.Default.ClientHandler] [{ Id: 101, Name: "RequestEnd" }] Received HTTP response headers after 106.0662ms - 403
2023-11-28 19:41:22.609 +01:00 [Information] [System.Net.Http.HttpClient.Default.LogicalHandler] [{ Id: 101, Name: "RequestPipelineEnd" }] End processing HTTP request after 108.3863ms - 403
2023-11-28 19:41:27.223 +01:00 [Information] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] [{ Id: 105, Name: "ActionExecuted" }] Executed action "ApiWithMutlipleApis.Controllers.ServiceApiCallsController.Get (ApiWithMutlipleApis)" in 4794.2517ms
2023-11-28 19:41:27.439 +01:00 [Information] [Microsoft.AspNetCore.Routing.EndpointMiddleware] [{ Id: 1, Name: "ExecutedEndpoint" }] Executed endpoint '"ApiWithMutlipleApis.Controllers.ServiceApiCallsController.Get (ApiWithMutlipleApis)"'
2023-11-28 19:41:28.167 +01:00 [Error] [Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware] [{ Id: 1, Name: "UnhandledException" }] An unhandled exception has occurred while executing the request.
System.ApplicationException: oh no...
   at ApiWithMutlipleApis.Services.ServiceApiClientService.GetApiDataAsync() in C:\repos\git\damienbod\AzureADAuthRazorUiServiceApiCertificate\AngularAzureADMultipleApis\ApiWithMutlipleApis\Services\ServiceApiClientService.cs:line 45
   at ApiWithMutlipleApis.Controllers.ServiceApiCallsController.Get() in C:\repos\git\damienbod\AzureADAuthRazorUiServiceApiCertificate\AngularAzureADMultipleApis\ApiWithMutlipleApis\Controllers\ServiceApiCallsController.cs:line 25
   at lambda_method16(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextExceptionFilterAsync>g__Awaited|26_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ExceptionContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2023-11-28 19:41:28.179 +01:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2 }] Request finished "HTTP/2" "GET" "https"://"localhost:44390""""/ServiceApiCalls""" - 500 null "text/plain; charset=utf-8" 5764.5009ms
2023-11-28 19:41:30.442 +01:00 [Debug] [Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets] [{ Id: 6, Name: "ConnectionReadFin" }] Connection id ""0HMVG85843CGR"" received FIN.
2023-11-28 19:41:30.474 +01:00 [Debug] [Microsoft.AspNetCore.Server.Kestrel.Http2] [{ Id: 62, Name: "Http2ConnectionQueueProcessingCompleted" }] The connection queue processing loop for "0HMVG85843CGR" completed.
2023-11-28 19:41:30.480 +01:00 [Debug] [Microsoft.AspNetCore.Server.Kestrel.Http2] [{ Id: 48, Name: "Http2ConnectionClosed" }] Connection id ""0HMVG85843CGR"" is closed. The last processed stream ID was 0.
2023-11-28 19:41:30.480 +01:00 [Debug] [Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets] [{ Id: 7, Name: "ConnectionWriteFin" }] Connection id ""0HMVG85843CGR"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2023-11-28 19:41:30.484 +01:00 [Debug] [Microsoft.AspNetCore.Server.Kestrel.Connections] [{ Id: 2, Name: "ConnectionStop" }] Connection id ""0HMVG85843CGR"" stopped.
2023-11-28 19:41:38.835 +01:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1 }] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:44390""""/DelegatedUserApiCalls""" - null null
2023-11-28 19:41:38.837 +01:00 [Debug] [Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware] [{ Id: 1, Name: "MethodNotSupported" }] "OPTIONS" requests are not supported
2023-11-28 19:41:38.838 +01:00 [Debug] [Microsoft.AspNetCore.Cors.Infrastructure.CorsService] [{ Id: 2, Name: "RequestHasOriginHeader" }] The request has an origin header: '"https://localhost:4200"'.
2023-11-28 19:41:38.839 +01:00 [Information] [Microsoft.AspNetCore.Cors.Infrastructure.CorsService] [{ Id: 4, Name: "PolicySuccess" }] CORS policy execution successful.
2023-11-28 19:41:38.841 +01:00 [Debug] [Microsoft.AspNetCore.Cors.Infrastructure.CorsService] [{ Id: 1, Name: "IsPreflightRequest" }] The request is a preflight request.
2023-11-28 19:41:38.845 +01:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2 }] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:44390""""/DelegatedUserApiCalls""" - 204 null null 10.7667ms
2023-11-28 19:41:38.848 +01:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1 }] Request starting "HTTP/2" "GET" "https"://"localhost:44390""""/DelegatedUserApiCalls""" - null null
2023-11-28 19:41:38.850 +01:00 [Debug] [Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware] [{ Id: 4, Name: "FileTypeNotSupported" }] The request path "/DelegatedUserApiCalls" does not match a supported file type
2023-11-28 19:41:38.851 +01:00 [Debug] [Microsoft.AspNetCore.Cors.Infrastructure.CorsService] [{ Id: 2, Name: "RequestHasOriginHeader" }] The request has an origin header: '"https://localhost:4200"'.
2023-11-28 19:41:38.851 +01:00 [Information] [Microsoft.AspNetCore.Cors.Infrastructure.CorsService] [{ Id: 4, Name: "PolicySuccess" }] CORS policy execution successful.
2023-11-28 19:41:38.852 +01:00 [Debug] [Microsoft.AspNetCore.Routing.Matching.DfaMatcher] [{ Id: 1001, Name: "CandidatesFound" }] 1 candidate(s) found for the request path '"/DelegatedUserApiCalls"'
2023-11-28 19:41:38.853 +01:00 [Debug] [Microsoft.AspNetCore.Routing.Matching.DfaMatcher] [{ Id: 1005, Name: "CandidateValid" }] Endpoint '"ApiWithMutlipleApis.Controllers.DelegatedUserApiCallsController.Get (ApiWithMutlipleApis)"' with route pattern '"DelegatedUserApiCalls"' is valid for the request path '"/DelegatedUserApiCalls"'
2023-11-28 19:41:38.854 +01:00 [Debug] [Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware] [{ Id: 1, Name: "MatchSuccess" }] Request matched endpoint '"ApiWithMutlipleApis.Controllers.DelegatedUserApiCallsController.Get (ApiWithMutlipleApis)"'
2023-11-28 19:41:38.856 +01:00 [Information] [Microsoft.IdentityModel.LoggingExtensions.IdentityLoggerAdapter] [] IDX10242: Security token: '[Security Artifact of type 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken' is hidden. For more details, see https://aka.ms/IdentityModel/SecurityArtifactLogging.]' has a valid signature.
2023-11-28 19:41:38.857 +01:00 [Debug] [Microsoft.IdentityModel.LoggingExtensions.IdentityLoggerAdapter] [] IDX10237: ValidateIssuerSigningKey property on ValidationParameters is set to false. Exiting without validating the issuer signing key.
2023-11-28 19:41:38.858 +01:00 [Information] [Microsoft.IdentityModel.LoggingExtensions.IdentityLoggerAdapter] [] IDX10239: Lifetime of the token is valid.
2023-11-28 19:41:38.858 +01:00 [Information] [Microsoft.IdentityModel.LoggingExtensions.IdentityLoggerAdapter] [] IDX10234: Audience Validated.Audience: '2b50a014-f353-4c10-aace-024f19a55569'
2023-11-28 19:41:38.859 +01:00 [Debug] [Microsoft.IdentityModel.LoggingExtensions.IdentityLoggerAdapter] [] IDX10246: ValidateTokenReplay property on ValidationParameters is set to false. Exiting without validating the token replay.
2023-11-28 19:41:38.859 +01:00 [Debug] [Microsoft.IdentityModel.LoggingExtensions.IdentityLoggerAdapter] [] IDX10255: TypeValidator property on ValidationParameters is null and ValidTypes is either null or empty. Exiting without validating the token type.
2023-11-28 19:41:38.860 +01:00 [Information] [Microsoft.IdentityModel.LoggingExtensions.IdentityLoggerAdapter] [] IDX10245: Creating claims identity from the validated token: '[Security Artifact of type 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken' is hidden. For more details, see https://aka.ms/IdentityModel/SecurityArtifactLogging.]'.
2023-11-28 19:41:38.860 +01:00 [Debug] [Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler] [{ Id: 2, Name: "TokenValidationSucceeded" }] Successfully validated the token.
2023-11-28 19:41:38.861 +01:00 [Debug] [Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler] [{ Id: 8, Name: "AuthenticationSchemeAuthenticated" }] AuthenticationScheme: "Bearer" was successfully authenticated.
2023-11-28 19:41:38.861 +01:00 [Debug] [Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler] [{ Id: 8, Name: "AuthenticationSchemeAuthenticated" }] AuthenticationScheme: "Bearer" was successfully authenticated.
2023-11-28 19:41:38.862 +01:00 [Debug] [Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] [{ Id: 1, Name: "UserAuthorizationSucceeded" }] Authorization was successful.
2023-11-28 19:41:38.863 +01:00 [Information] [Microsoft.AspNetCore.Routing.EndpointMiddleware] [{ Name: "ExecutingEndpoint" }] Executing endpoint '"ApiWithMutlipleApis.Controllers.DelegatedUserApiCallsController.Get (ApiWithMutlipleApis)"'
2023-11-28 19:41:38.874 +01:00 [Information] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] [{ Id: 102, Name: "ControllerActionExecuting" }] Route matched with "{action = \"Get\", controller = \"DelegatedUserApiCalls\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[System.String]] Get()" on controller "ApiWithMutlipleApis.Controllers.DelegatedUserApiCallsController" ("ApiWithMutlipleApis").
2023-11-28 19:41:38.876 +01:00 [Debug] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] [{ Id: 1, Name: "FilterExecutionPlan" }] Execution plan of "authorization" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter"]
2023-11-28 19:41:38.877 +01:00 [Debug] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] [{ Id: 1, Name: "FilterExecutionPlan" }] Execution plan of "resource" filters (in the following order): ["None"]
2023-11-28 19:41:38.877 +01:00 [Debug] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] [{ Id: 1, Name: "FilterExecutionPlan" }] Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-11-28 19:41:38.879 +01:00 [Debug] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] [{ Id: 1, Name: "FilterExecutionPlan" }] Execution plan of "exception" filters (in the following order): ["Microsoft.Identity.Web.AuthorizeForScopesAttribute (Order: 0)"]
2023-11-28 19:41:38.879 +01:00 [Debug] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] [{ Id: 1, Name: "FilterExecutionPlan" }] Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-11-28 19:41:38.880 +01:00 [Debug] [Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler] [{ Id: 8, Name: "AuthenticationSchemeAuthenticated" }] AuthenticationScheme: "Bearer" was successfully authenticated.
2023-11-28 19:41:38.881 +01:00 [Debug] [Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] [{ Id: 1, Name: "UserAuthorizationSucceeded" }] Authorization was successful.
2023-11-28 19:41:38.881 +01:00 [Debug] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] [{ Id: 1, Name: "ControllerFactoryExecuting" }] Executing controller factory for controller "ApiWithMutlipleApis.Controllers.DelegatedUserApiCallsController" ("ApiWithMutlipleApis")
2023-11-28 19:41:38.882 +01:00 [Debug] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] [{ Id: 2, Name: "ControllerFactoryExecuted" }] Executed controller factory for controller "ApiWithMutlipleApis.Controllers.DelegatedUserApiCallsController" ("ApiWithMutlipleApis")
2023-11-28 19:41:38.947 +01:00 [Information] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] [{ Id: 101, Name: "ActionMethodExecuting" }] Executing action method "ApiWithMutlipleApis.Controllers.DelegatedUserApiCallsController.Get (ApiWithMutlipleApis)" - Validation state: Valid
2023-11-28 19:41:38.951 +01:00 [Debug] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:41:38Z] ConfidentialClientApplication 42364438 created
2023-11-28 19:41:38.952 +01:00 [Information] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:41:38Z - 2f2b2958-fd23-4e28-a888-2838609c1b31] MSAL MSAL.NetCore with assembly version '4.57.0.0'. CorrelationId(2f2b2958-fd23-4e28-a888-2838609c1b31)
2023-11-28 19:41:38.953 +01:00 [Information] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:41:38Z - 2f2b2958-fd23-4e28-a888-2838609c1b31] === OnBehalfOfParameters ===
SendX5C: False
ForceRefresh: False
UserAssertion set: True
SearchInCacheForLongRunningObo: False
LongRunningOboCacheKey set: False

2023-11-28 19:41:38.954 +01:00 [Information] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:41:38Z - 2f2b2958-fd23-4e28-a888-2838609c1b31] 
=== Request Data ===
Authority Provided? - True
Scopes - api://b2a09168-54e2-4bc4-af92-a710a64ef1fa/access_as_user
Extra Query Params Keys (space separated) - 
ApiId - AcquireTokenOnBehalfOf
IsConfidentialClient - True
SendX5C - False
LoginHint ? False
IsBrokerConfigured - False
HomeAccountId - False
CorrelationId - 2f2b2958-fd23-4e28-a888-2838609c1b31
UserAssertion set: True
LongRunningOboCacheKey set: False
Region configured: 

2023-11-28 19:41:38.958 +01:00 [Information] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:41:38Z - 2f2b2958-fd23-4e28-a888-2838609c1b31] === Token Acquisition (OnBehalfOfRequest) started:
	 Scopes: api://b2a09168-54e2-4bc4-af92-a710a64ef1fa/access_as_user
	Authority Host: login.microsoftonline.com
2023-11-28 19:41:38.959 +01:00 [Warning] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:41:38Z - 2f2b2958-fd23-4e28-a888-2838609c1b31] Only in-memory caching is used. The cache is not persisted and will be lost if the machine is restarted. It also does not scale for a web app or web API, where the number of users can grow large. In production, web apps and web APIs should use distributed caching like Redis. See https://aka.ms/msal-net-cca-token-cache-serialization
2023-11-28 19:41:38.960 +01:00 [Information] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:41:38Z - 2f2b2958-fd23-4e28-a888-2838609c1b31] [Instance Discovery] Instance discovery is enabled and will be performed
2023-11-28 19:41:38.960 +01:00 [Information] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:41:38Z - 2f2b2958-fd23-4e28-a888-2838609c1b31] [Region discovery] Not using a regional authority. 
2023-11-28 19:41:38.961 +01:00 [Debug] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:41:38Z - 2f2b2958-fd23-4e28-a888-2838609c1b31] [Instance Discovery] Tried to use network cache provider for login.microsoftonline.com. Success? True. 
2023-11-28 19:41:38.961 +01:00 [Debug] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:41:38Z - 2f2b2958-fd23-4e28-a888-2838609c1b31] [Instance Discovery] The network provider found an entry for login.microsoftonline.com. 
2023-11-28 19:41:38.962 +01:00 [Debug] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:41:38Z - 2f2b2958-fd23-4e28-a888-2838609c1b31] Starting [OBO Request] Looking in the cache for an access token
2023-11-28 19:41:38.963 +01:00 [Information] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:41:38Z - 2f2b2958-fd23-4e28-a888-2838609c1b31] [Internal cache] Total number of cache partitions found while getting access tokens: 1
2023-11-28 19:41:38.964 +01:00 [Information] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:41:38Z - 2f2b2958-fd23-4e28-a888-2838609c1b31] [FindAccessTokenAsync] Discovered 1 access tokens in cache using partition key: dLm1jVOoF6n30Gunb2I4MumMrFnNNbnMf6cFtUtw6vs
2023-11-28 19:41:38.965 +01:00 [Debug] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:41:38Z - 2f2b2958-fd23-4e28-a888-2838609c1b31] Filtering AT by user assertion: dLm1jVOoF6n30Gunb2I4MumMrFnNNbnMf6cFtUtw6vs - item count before: 1 
2023-11-28 19:41:38.966 +01:00 [Debug] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:41:38Z - 2f2b2958-fd23-4e28-a888-2838609c1b31] Filtering AT by user assertion: dLm1jVOoF6n30Gunb2I4MumMrFnNNbnMf6cFtUtw6vs - item count after: 1 
2023-11-28 19:41:38.967 +01:00 [Debug] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:41:38Z - 2f2b2958-fd23-4e28-a888-2838609c1b31] Filtering AT by tenant id - item count before: 1 
2023-11-28 19:41:38.967 +01:00 [Debug] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:41:38Z - 2f2b2958-fd23-4e28-a888-2838609c1b31] Filtering AT by tenant id - item count after: 1 
2023-11-28 19:41:38.968 +01:00 [Debug] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:41:38Z - 2f2b2958-fd23-4e28-a888-2838609c1b31] Filtering by token type - item count before: 1 
2023-11-28 19:41:38.968 +01:00 [Debug] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:41:38Z - 2f2b2958-fd23-4e28-a888-2838609c1b31] Filtering by token type - item count after: 1 
2023-11-28 19:41:38.969 +01:00 [Debug] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:41:38Z - 2f2b2958-fd23-4e28-a888-2838609c1b31] Filtering by scopes - item count before: 1 
2023-11-28 19:41:38.970 +01:00 [Debug] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:41:38Z - 2f2b2958-fd23-4e28-a888-2838609c1b31] Access token with scopes Directory.AccessAsUser.All Directory.Read.All Directory.ReadWrite.All email openid profile User.Read User.Read.All User.ReadBasic.All UserAuthenticationMethod.Read.All passes scope filter? False 
2023-11-28 19:41:38.971 +01:00 [Debug] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:41:38Z - 2f2b2958-fd23-4e28-a888-2838609c1b31] Filtering by scopes - item count after: 0 
2023-11-28 19:41:38.971 +01:00 [Debug] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:41:38Z - 2f2b2958-fd23-4e28-a888-2838609c1b31] Not filtering AT by environment, because there are no candidates
2023-11-28 19:41:38.972 +01:00 [Debug] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:41:38Z - 2f2b2958-fd23-4e28-a888-2838609c1b31] [FindAccessTokenAsync] No tokens found for matching authority, client_id, user and scopes. 
2023-11-28 19:41:38.972 +01:00 [Debug] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:41:38Z - 2f2b2958-fd23-4e28-a888-2838609c1b31] Finished [OBO Request] Looking in the cache for an access token in 10 ms
2023-11-28 19:41:38.973 +01:00 [Information] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:41:38Z - 2f2b2958-fd23-4e28-a888-2838609c1b31] [OBO request] Fetching tokens via normal OBO flow.
2023-11-28 19:41:38.976 +01:00 [Debug] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:41:38Z - 2f2b2958-fd23-4e28-a888-2838609c1b31] Starting TokenClient:SendTokenRequestAsync
2023-11-28 19:41:38.978 +01:00 [Debug] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:41:38Z - 2f2b2958-fd23-4e28-a888-2838609c1b31] [TokenClient] Before adding the client assertion / secret
2023-11-28 19:41:38.979 +01:00 [Debug] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:41:38Z - 2f2b2958-fd23-4e28-a888-2838609c1b31] [TokenClient] After adding the client assertion / secret
2023-11-28 19:41:38.980 +01:00 [Debug] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:41:38Z - 2f2b2958-fd23-4e28-a888-2838609c1b31] [Token Client] Fetching MsalTokenResponse .... 
2023-11-28 19:41:38.981 +01:00 [Debug] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:41:38Z - 2f2b2958-fd23-4e28-a888-2838609c1b31] Starting [Oauth2Client] Sending POST request 
2023-11-28 19:41:38.981 +01:00 [Debug] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:41:38Z - 2f2b2958-fd23-4e28-a888-2838609c1b31] Starting [HttpManager] ExecuteAsync
2023-11-28 19:41:38.982 +01:00 [Debug] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:41:38Z - 2f2b2958-fd23-4e28-a888-2838609c1b31] [HttpManager] Sending request. Method: POST. Host: https://login.microsoftonline.com. 
2023-11-28 19:41:38.983 +01:00 [Information] [System.Net.Http.HttpClient.Default.LogicalHandler] [{ Id: 100, Name: "RequestPipelineStart" }] Start processing HTTP request "POST" "https://login.microsoftonline.com/7ff95b15-dc21-4ba6-bc92-824856578fc1/oauth2/v2.0/token"
2023-11-28 19:41:38.984 +01:00 [Information] [System.Net.Http.HttpClient.Default.ClientHandler] [{ Id: 100, Name: "RequestStart" }] Sending HTTP request "POST" "https://login.microsoftonline.com/7ff95b15-dc21-4ba6-bc92-824856578fc1/oauth2/v2.0/token"
2023-11-28 19:41:39.484 +01:00 [Information] [System.Net.Http.HttpClient.Default.ClientHandler] [{ Id: 101, Name: "RequestEnd" }] Received HTTP response headers after 498.9061ms - 200
2023-11-28 19:41:39.484 +01:00 [Information] [System.Net.Http.HttpClient.Default.LogicalHandler] [{ Id: 101, Name: "RequestPipelineEnd" }] End processing HTTP request after 501.0717ms - 200
2023-11-28 19:41:39.485 +01:00 [Debug] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:41:39Z - 2f2b2958-fd23-4e28-a888-2838609c1b31] [HttpManager] Received response. Status code: OK. 
2023-11-28 19:41:39.485 +01:00 [Debug] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:41:39Z - 2f2b2958-fd23-4e28-a888-2838609c1b31] Finished [HttpManager] ExecuteAsync in 504 ms
2023-11-28 19:41:39.486 +01:00 [Debug] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:41:39Z - 2f2b2958-fd23-4e28-a888-2838609c1b31] Finished [Oauth2Client] Sending POST request  in 505 ms
2023-11-28 19:41:39.487 +01:00 [Debug] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:41:39Z - 2f2b2958-fd23-4e28-a888-2838609c1b31] Starting [OAuth2Client] Deserializing response
2023-11-28 19:41:39.488 +01:00 [Debug] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:41:39Z - 2f2b2958-fd23-4e28-a888-2838609c1b31] Finished [OAuth2Client] Deserializing response in 1 ms
2023-11-28 19:41:39.489 +01:00 [Debug] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:41:39Z - 2f2b2958-fd23-4e28-a888-2838609c1b31] Finished TokenClient:SendTokenRequestAsync in 512 ms
2023-11-28 19:41:39.489 +01:00 [Information] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:41:39Z - 2f2b2958-fd23-4e28-a888-2838609c1b31] Checking client info returned from the server..
2023-11-28 19:41:39.490 +01:00 [Information] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:41:39Z - 2f2b2958-fd23-4e28-a888-2838609c1b31] Saving token response to cache..
2023-11-28 19:41:39.491 +01:00 [Debug] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:41:39Z - 2f2b2958-fd23-4e28-a888-2838609c1b31] 
[MsalTokenResponse]
Error: 
ErrorDescription: 
Scopes: api://b2a09168-54e2-4bc4-af92-a710a64ef1fa/access_as_user 
ExpiresIn: 5039
RefreshIn: 
AccessToken returned: True
AccessToken Type: Bearer
RefreshToken returned: False
IdToken returned: True
ClientInfo returned: True
FamilyId: 
WamAccountId exists: False

2023-11-28 19:41:39.494 +01:00 [Information] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:41:39Z - 2f2b2958-fd23-4e28-a888-2838609c1b31] [Region discovery] Not using a regional authority. 
2023-11-28 19:41:39.494 +01:00 [Debug] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:41:39Z - 2f2b2958-fd23-4e28-a888-2838609c1b31] [Instance Discovery] Tried to use network cache provider for login.microsoftonline.com. Success? True. 
2023-11-28 19:41:39.496 +01:00 [Debug] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:41:39Z - 2f2b2958-fd23-4e28-a888-2838609c1b31] [SaveTokenResponseAsync] Entering token cache semaphore. Count Real semaphore: True. Count: 1.
2023-11-28 19:41:39.497 +01:00 [Debug] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:41:39Z - 2f2b2958-fd23-4e28-a888-2838609c1b31] [SaveTokenResponseAsync] Entered token cache semaphore. 
2023-11-28 19:41:39.498 +01:00 [Information] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:41:39Z - 2f2b2958-fd23-4e28-a888-2838609c1b31] [SaveTokenResponseAsync] Saving AT in cache and removing overlapping ATs...
2023-11-28 19:41:39.499 +01:00 [Information] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:41:39Z - 2f2b2958-fd23-4e28-a888-2838609c1b31] Looking for scopes for the authority in the cache which intersect with api://b2a09168-54e2-4bc4-af92-a710a64ef1fa/access_as_user
2023-11-28 19:41:39.499 +01:00 [Information] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:41:39Z] [Internal cache] Total number of cache partitions found while getting access tokens: 1
2023-11-28 19:41:39.500 +01:00 [Information] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:41:39Z - 2f2b2958-fd23-4e28-a888-2838609c1b31] Intersecting scope entries count - 0
2023-11-28 19:41:39.501 +01:00 [Information] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:41:39Z - 2f2b2958-fd23-4e28-a888-2838609c1b31] Matching entries after filtering by user - 0
2023-11-28 19:41:39.502 +01:00 [Information] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:41:39Z - 2f2b2958-fd23-4e28-a888-2838609c1b31] [SaveTokenResponseAsync] Saving Id Token and Account in cache ...
2023-11-28 19:41:39.504 +01:00 [Debug] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:41:39Z - 2f2b2958-fd23-4e28-a888-2838609c1b31] Not saving to ADAL legacy cache. 
2023-11-28 19:41:39.505 +01:00 [Debug] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:41:39Z - 2f2b2958-fd23-4e28-a888-2838609c1b31] [SaveTokenResponseAsync] Released token cache semaphore. 
2023-11-28 19:41:39.508 +01:00 [Information] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:41:39Z - 2f2b2958-fd23-4e28-a888-2838609c1b31] 
	=== Token Acquisition finished successfully:
2023-11-28 19:41:39.508 +01:00 [Information] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:41:39Z - 2f2b2958-fd23-4e28-a888-2838609c1b31]  AT expiration time: 28.11.2023 20:05:38 +00:00, scopes: api://b2a09168-54e2-4bc4-af92-a710a64ef1fa/access_as_user. source: IdentityProvider
2023-11-28 19:41:39.510 +01:00 [Information] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:41:39Z - 2f2b2958-fd23-4e28-a888-2838609c1b31] Fetched access token from host login.microsoftonline.com. 
2023-11-28 19:41:39.511 +01:00 [Information] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:41:39Z - 2f2b2958-fd23-4e28-a888-2838609c1b31] 
[LogMetricsFromAuthResult] Cache Refresh Reason: NoCachedAccessToken
[LogMetricsFromAuthResult] DurationInCacheInMs: 0
[LogMetricsFromAuthResult] DurationTotalInMs: 556
[LogMetricsFromAuthResult] DurationInHttpInMs: 501

2023-11-28 19:41:39.512 +01:00 [Information] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:41:39Z - 2f2b2958-fd23-4e28-a888-2838609c1b31] TokenEndpoint: ****
2023-11-28 19:41:39.512 +01:00 [Debug] [Microsoft.Identity.Web.TokenAcquisition] [{ Id: 301, Name: "TokenAcquisitionMsalAuthenticationResultTime" }] [MsIdWeb] Time to get token with MSAL: DurationTotalInMs: 556 DurationInHttpInMs: 501 DurationInCacheInMs: 0 TokenSource: "IdentityProvider" CorrelationId: "2f2b2958-fd23-4e28-a888-2838609c1b31" CacheRefreshReason: "NoCachedAccessToken" 
2023-11-28 19:41:39.516 +01:00 [Information] [System.Net.Http.HttpClient.Default.LogicalHandler] [{ Id: 100, Name: "RequestPipelineStart" }] Start processing HTTP request "GET" "https://localhost:44395/ApiForUserData"
2023-11-28 19:41:39.517 +01:00 [Information] [System.Net.Http.HttpClient.Default.ClientHandler] [{ Id: 100, Name: "RequestStart" }] Sending HTTP request "GET" "https://localhost:44395/ApiForUserData"
2023-11-28 19:41:43.795 +01:00 [Information] [System.Net.Http.HttpClient.Default.ClientHandler] [{ Id: 101, Name: "RequestEnd" }] Received HTTP response headers after 4276.6821ms - 200
2023-11-28 19:41:43.796 +01:00 [Information] [System.Net.Http.HttpClient.Default.LogicalHandler] [{ Id: 101, Name: "RequestPipelineEnd" }] End processing HTTP request after 4279.3199ms - 200
2023-11-28 19:41:43.804 +01:00 [Information] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] [{ Id: 103, Name: "ActionMethodExecuted" }] Executed action method "ApiWithMutlipleApis.Controllers.DelegatedUserApiCallsController.Get (ApiWithMutlipleApis)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 4855.9734ms.
2023-11-28 19:41:43.806 +01:00 [Debug] [Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector] [{ Id: 11, Name: "RegisteredOutputFormatters" }] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-11-28 19:41:43.808 +01:00 [Debug] [Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector] [{ Id: 4, Name: "NoAcceptForNegotiation" }] No information found on request to perform content negotiation.
2023-11-28 19:41:43.808 +01:00 [Debug] [Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector] [{ Id: 8, Name: "SelectingOutputFormatterWithoutUsingContentTypes" }] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-11-28 19:41:43.809 +01:00 [Debug] [Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector] [{ Id: 10, Name: "SelectingFirstCanWriteFormatter" }] Attempting to select the first formatter in the output formatters list which can write the result.
2023-11-28 19:41:43.810 +01:00 [Debug] [Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector] [{ Id: 2, Name: "FormatterSelected" }] Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/json"' to write the response.
2023-11-28 19:41:43.811 +01:00 [Information] [Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] [{ Id: 1, Name: "ObjectResultExecuting" }] Executing "ObjectResult", writing value of type '"System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
2023-11-28 19:41:43.811 +01:00 [Information] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] [{ Id: 105, Name: "ActionExecuted" }] Executed action "ApiWithMutlipleApis.Controllers.DelegatedUserApiCallsController.Get (ApiWithMutlipleApis)" in 4931.2812ms
2023-11-28 19:41:43.812 +01:00 [Information] [Microsoft.AspNetCore.Routing.EndpointMiddleware] [{ Id: 1, Name: "ExecutedEndpoint" }] Executed endpoint '"ApiWithMutlipleApis.Controllers.DelegatedUserApiCallsController.Get (ApiWithMutlipleApis)"'
2023-11-28 19:41:43.813 +01:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2 }] Request finished "HTTP/2" "GET" "https"://"localhost:44390""""/DelegatedUserApiCalls""" - 200 null "application/json; charset=utf-8" 4964.0289ms
2023-11-28 19:41:47.258 +01:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1 }] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:44390""""/ServiceApiCalls""" - null null
2023-11-28 19:41:47.259 +01:00 [Debug] [Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware] [{ Id: 1, Name: "MethodNotSupported" }] "OPTIONS" requests are not supported
2023-11-28 19:41:47.262 +01:00 [Debug] [Microsoft.AspNetCore.Cors.Infrastructure.CorsService] [{ Id: 2, Name: "RequestHasOriginHeader" }] The request has an origin header: '"https://localhost:4200"'.
2023-11-28 19:41:47.262 +01:00 [Information] [Microsoft.AspNetCore.Cors.Infrastructure.CorsService] [{ Id: 4, Name: "PolicySuccess" }] CORS policy execution successful.
2023-11-28 19:41:47.263 +01:00 [Debug] [Microsoft.AspNetCore.Cors.Infrastructure.CorsService] [{ Id: 1, Name: "IsPreflightRequest" }] The request is a preflight request.
2023-11-28 19:41:47.265 +01:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2 }] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:44390""""/ServiceApiCalls""" - 204 null null 6.2403ms
2023-11-28 19:41:47.269 +01:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1 }] Request starting "HTTP/2" "GET" "https"://"localhost:44390""""/ServiceApiCalls""" - null null
2023-11-28 19:41:47.271 +01:00 [Debug] [Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware] [{ Id: 4, Name: "FileTypeNotSupported" }] The request path "/ServiceApiCalls" does not match a supported file type
2023-11-28 19:41:47.272 +01:00 [Debug] [Microsoft.AspNetCore.Cors.Infrastructure.CorsService] [{ Id: 2, Name: "RequestHasOriginHeader" }] The request has an origin header: '"https://localhost:4200"'.
2023-11-28 19:41:47.274 +01:00 [Information] [Microsoft.AspNetCore.Cors.Infrastructure.CorsService] [{ Id: 4, Name: "PolicySuccess" }] CORS policy execution successful.
2023-11-28 19:41:47.274 +01:00 [Debug] [Microsoft.AspNetCore.Routing.Matching.DfaMatcher] [{ Id: 1001, Name: "CandidatesFound" }] 1 candidate(s) found for the request path '"/ServiceApiCalls"'
2023-11-28 19:41:47.275 +01:00 [Debug] [Microsoft.AspNetCore.Routing.Matching.DfaMatcher] [{ Id: 1005, Name: "CandidateValid" }] Endpoint '"ApiWithMutlipleApis.Controllers.ServiceApiCallsController.Get (ApiWithMutlipleApis)"' with route pattern '"ServiceApiCalls"' is valid for the request path '"/ServiceApiCalls"'
2023-11-28 19:41:47.276 +01:00 [Debug] [Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware] [{ Id: 1, Name: "MatchSuccess" }] Request matched endpoint '"ApiWithMutlipleApis.Controllers.ServiceApiCallsController.Get (ApiWithMutlipleApis)"'
2023-11-28 19:41:47.278 +01:00 [Information] [Microsoft.IdentityModel.LoggingExtensions.IdentityLoggerAdapter] [] IDX10242: Security token: '[Security Artifact of type 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken' is hidden. For more details, see https://aka.ms/IdentityModel/SecurityArtifactLogging.]' has a valid signature.
2023-11-28 19:41:47.279 +01:00 [Debug] [Microsoft.IdentityModel.LoggingExtensions.IdentityLoggerAdapter] [] IDX10237: ValidateIssuerSigningKey property on ValidationParameters is set to false. Exiting without validating the issuer signing key.
2023-11-28 19:41:47.279 +01:00 [Information] [Microsoft.IdentityModel.LoggingExtensions.IdentityLoggerAdapter] [] IDX10239: Lifetime of the token is valid.
2023-11-28 19:41:47.280 +01:00 [Information] [Microsoft.IdentityModel.LoggingExtensions.IdentityLoggerAdapter] [] IDX10234: Audience Validated.Audience: '2b50a014-f353-4c10-aace-024f19a55569'
2023-11-28 19:41:47.281 +01:00 [Debug] [Microsoft.IdentityModel.LoggingExtensions.IdentityLoggerAdapter] [] IDX10246: ValidateTokenReplay property on ValidationParameters is set to false. Exiting without validating the token replay.
2023-11-28 19:41:47.282 +01:00 [Debug] [Microsoft.IdentityModel.LoggingExtensions.IdentityLoggerAdapter] [] IDX10255: TypeValidator property on ValidationParameters is null and ValidTypes is either null or empty. Exiting without validating the token type.
2023-11-28 19:41:47.282 +01:00 [Information] [Microsoft.IdentityModel.LoggingExtensions.IdentityLoggerAdapter] [] IDX10245: Creating claims identity from the validated token: '[Security Artifact of type 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken' is hidden. For more details, see https://aka.ms/IdentityModel/SecurityArtifactLogging.]'.
2023-11-28 19:41:47.284 +01:00 [Debug] [Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler] [{ Id: 2, Name: "TokenValidationSucceeded" }] Successfully validated the token.
2023-11-28 19:41:47.285 +01:00 [Debug] [Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler] [{ Id: 8, Name: "AuthenticationSchemeAuthenticated" }] AuthenticationScheme: "Bearer" was successfully authenticated.
2023-11-28 19:41:47.286 +01:00 [Debug] [Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler] [{ Id: 8, Name: "AuthenticationSchemeAuthenticated" }] AuthenticationScheme: "Bearer" was successfully authenticated.
2023-11-28 19:41:47.287 +01:00 [Debug] [Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] [{ Id: 1, Name: "UserAuthorizationSucceeded" }] Authorization was successful.
2023-11-28 19:41:47.287 +01:00 [Information] [Microsoft.AspNetCore.Routing.EndpointMiddleware] [{ Name: "ExecutingEndpoint" }] Executing endpoint '"ApiWithMutlipleApis.Controllers.ServiceApiCallsController.Get (ApiWithMutlipleApis)"'
2023-11-28 19:41:47.287 +01:00 [Information] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] [{ Id: 102, Name: "ControllerActionExecuting" }] Route matched with "{action = \"Get\", controller = \"ServiceApiCalls\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[System.String]] Get()" on controller "ApiWithMutlipleApis.Controllers.ServiceApiCallsController" ("ApiWithMutlipleApis").
2023-11-28 19:41:47.288 +01:00 [Debug] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] [{ Id: 1, Name: "FilterExecutionPlan" }] Execution plan of "authorization" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter"]
2023-11-28 19:41:47.289 +01:00 [Debug] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] [{ Id: 1, Name: "FilterExecutionPlan" }] Execution plan of "resource" filters (in the following order): ["None"]
2023-11-28 19:41:47.289 +01:00 [Debug] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] [{ Id: 1, Name: "FilterExecutionPlan" }] Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-11-28 19:41:47.290 +01:00 [Debug] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] [{ Id: 1, Name: "FilterExecutionPlan" }] Execution plan of "exception" filters (in the following order): ["Microsoft.Identity.Web.AuthorizeForScopesAttribute (Order: 0)"]
2023-11-28 19:41:47.291 +01:00 [Debug] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] [{ Id: 1, Name: "FilterExecutionPlan" }] Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-11-28 19:41:47.292 +01:00 [Debug] [Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler] [{ Id: 8, Name: "AuthenticationSchemeAuthenticated" }] AuthenticationScheme: "Bearer" was successfully authenticated.
2023-11-28 19:41:47.292 +01:00 [Debug] [Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] [{ Id: 1, Name: "UserAuthorizationSucceeded" }] Authorization was successful.
2023-11-28 19:41:47.293 +01:00 [Debug] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] [{ Id: 1, Name: "ControllerFactoryExecuting" }] Executing controller factory for controller "ApiWithMutlipleApis.Controllers.ServiceApiCallsController" ("ApiWithMutlipleApis")
2023-11-28 19:41:47.298 +01:00 [Debug] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] [{ Id: 2, Name: "ControllerFactoryExecuted" }] Executed controller factory for controller "ApiWithMutlipleApis.Controllers.ServiceApiCallsController" ("ApiWithMutlipleApis")
2023-11-28 19:41:47.356 +01:00 [Information] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] [{ Id: 101, Name: "ActionMethodExecuting" }] Executing action method "ApiWithMutlipleApis.Controllers.ServiceApiCallsController.Get (ApiWithMutlipleApis)" - Validation state: Valid
2023-11-28 19:41:47.359 +01:00 [Debug] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:41:47Z] ConfidentialClientApplication 28726203 created
2023-11-28 19:41:47.359 +01:00 [Information] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:41:47Z - 15c6a511-4f3f-42dc-8dcc-5e302bf6e7df] MSAL MSAL.NetCore with assembly version '4.57.0.0'. CorrelationId(15c6a511-4f3f-42dc-8dcc-5e302bf6e7df)
2023-11-28 19:41:47.360 +01:00 [Information] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:41:47Z - 15c6a511-4f3f-42dc-8dcc-5e302bf6e7df] === AcquireTokenForClientParameters ===
SendX5C: False
ForceRefresh: False

2023-11-28 19:41:47.361 +01:00 [Information] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:41:47Z - 15c6a511-4f3f-42dc-8dcc-5e302bf6e7df] 
=== Request Data ===
Authority Provided? - True
Scopes - api://b178f3a5-7588-492a-924f-72d7887b7e48/.default
Extra Query Params Keys (space separated) - 
ApiId - AcquireTokenForClient
IsConfidentialClient - True
SendX5C - False
LoginHint ? False
IsBrokerConfigured - False
HomeAccountId - False
CorrelationId - 15c6a511-4f3f-42dc-8dcc-5e302bf6e7df
UserAssertion set: False
LongRunningOboCacheKey set: False
Region configured: 

2023-11-28 19:41:47.362 +01:00 [Information] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:41:47Z - 15c6a511-4f3f-42dc-8dcc-5e302bf6e7df] === Token Acquisition (ClientCredentialRequest) started:
	 Scopes: api://b178f3a5-7588-492a-924f-72d7887b7e48/.default
	Authority Host: login.microsoftonline.com
2023-11-28 19:41:47.363 +01:00 [Information] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:41:47Z - 15c6a511-4f3f-42dc-8dcc-5e302bf6e7df] [Internal cache] Total number of cache partitions found while getting access tokens: 1
2023-11-28 19:41:47.364 +01:00 [Information] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:41:47Z - 15c6a511-4f3f-42dc-8dcc-5e302bf6e7df] [FindAccessTokenAsync] Discovered 1 access tokens in cache using partition key: 2b50a014-f353-4c10-aace-024f19a55569_7ff95b15-dc21-4ba6-bc92-824856578fc1_AppTokenCache
2023-11-28 19:41:47.364 +01:00 [Debug] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:41:47Z - 15c6a511-4f3f-42dc-8dcc-5e302bf6e7df] Filtering AT by tenant id - item count before: 1 
2023-11-28 19:41:47.365 +01:00 [Debug] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:41:47Z - 15c6a511-4f3f-42dc-8dcc-5e302bf6e7df] Filtering AT by tenant id - item count after: 1 
2023-11-28 19:41:47.367 +01:00 [Debug] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:41:47Z - 15c6a511-4f3f-42dc-8dcc-5e302bf6e7df] Filtering by token type - item count before: 1 
2023-11-28 19:41:47.368 +01:00 [Debug] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:41:47Z - 15c6a511-4f3f-42dc-8dcc-5e302bf6e7df] Filtering by token type - item count after: 1 
2023-11-28 19:41:47.369 +01:00 [Debug] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:41:47Z - 15c6a511-4f3f-42dc-8dcc-5e302bf6e7df] Filtering by scopes - item count before: 1 
2023-11-28 19:41:47.369 +01:00 [Debug] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:41:47Z - 15c6a511-4f3f-42dc-8dcc-5e302bf6e7df] Access token with scopes api://b178f3a5-7588-492a-924f-72d7887b7e48/.default passes scope filter? True 
2023-11-28 19:41:47.370 +01:00 [Debug] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:41:47Z - 15c6a511-4f3f-42dc-8dcc-5e302bf6e7df] Filtering by scopes - item count after: 1 
2023-11-28 19:41:47.370 +01:00 [Debug] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:41:47Z - 15c6a511-4f3f-42dc-8dcc-5e302bf6e7df] [Region discovery] WithAzureRegion not configured. 
2023-11-28 19:41:47.372 +01:00 [Information] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:41:47Z - 15c6a511-4f3f-42dc-8dcc-5e302bf6e7df] [Region discovery] Not using a regional authority. 
2023-11-28 19:41:47.372 +01:00 [Debug] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:41:47Z - 15c6a511-4f3f-42dc-8dcc-5e302bf6e7df] [Instance Discovery] Tried to use network cache provider for login.microsoftonline.com. Success? True. 
2023-11-28 19:41:47.373 +01:00 [Debug] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:41:47Z - 15c6a511-4f3f-42dc-8dcc-5e302bf6e7df] Filtering AT by preferred environment login.windows.net - item count before: 1 
2023-11-28 19:41:47.374 +01:00 [Debug] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:41:47Z - 15c6a511-4f3f-42dc-8dcc-5e302bf6e7df] Filtering AT by preferred environment login.windows.net - item count after: 1 
2023-11-28 19:41:47.375 +01:00 [Debug] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:41:47Z - 15c6a511-4f3f-42dc-8dcc-5e302bf6e7df] Filtered AT by preferred alias returning 1 tokens.
2023-11-28 19:41:47.376 +01:00 [Debug] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:41:47Z - 15c6a511-4f3f-42dc-8dcc-5e302bf6e7df] Bearer token found
2023-11-28 19:41:47.377 +01:00 [Information] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:41:47Z - 15c6a511-4f3f-42dc-8dcc-5e302bf6e7df] Access token is not expired. Returning the found cache entry. [Current time (11/28/2023 18:41:47) - Expiration Time (11/28/2023 19:41:08 +00:00) - Extended Expiration Time (11/28/2023 19:41:08 +00:00)]
2023-11-28 19:41:47.378 +01:00 [Information] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:41:47Z - 15c6a511-4f3f-42dc-8dcc-5e302bf6e7df] 
	=== Token Acquisition finished successfully:
2023-11-28 19:41:47.378 +01:00 [Information] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:41:47Z - 15c6a511-4f3f-42dc-8dcc-5e302bf6e7df]  AT expiration time: 28.11.2023 19:41:08 +00:00, scopes: api://b178f3a5-7588-492a-924f-72d7887b7e48/.default. source: Cache
2023-11-28 19:41:47.380 +01:00 [Information] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:41:47Z - 15c6a511-4f3f-42dc-8dcc-5e302bf6e7df] 
[LogMetricsFromAuthResult] Cache Refresh Reason: NotApplicable
[LogMetricsFromAuthResult] DurationInCacheInMs: 0
[LogMetricsFromAuthResult] DurationTotalInMs: 18
[LogMetricsFromAuthResult] DurationInHttpInMs: 0

2023-11-28 19:41:47.381 +01:00 [Information] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:41:47Z - 15c6a511-4f3f-42dc-8dcc-5e302bf6e7df] TokenEndpoint: ****
2023-11-28 19:41:47.382 +01:00 [Information] [System.Net.Http.HttpClient.Default.LogicalHandler] [{ Id: 100, Name: "RequestPipelineStart" }] Start processing HTTP request "GET" "https://localhost:44324/ApiForServiceData"
2023-11-28 19:41:47.385 +01:00 [Information] [System.Net.Http.HttpClient.Default.ClientHandler] [{ Id: 100, Name: "RequestStart" }] Sending HTTP request "GET" "https://localhost:44324/ApiForServiceData"
2023-11-28 19:41:47.573 +01:00 [Information] [System.Net.Http.HttpClient.Default.ClientHandler] [{ Id: 101, Name: "RequestEnd" }] Received HTTP response headers after 187.2893ms - 403
2023-11-28 19:41:47.574 +01:00 [Information] [System.Net.Http.HttpClient.Default.LogicalHandler] [{ Id: 101, Name: "RequestPipelineEnd" }] End processing HTTP request after 191.5928ms - 403
2023-11-28 19:41:49.663 +01:00 [Information] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] [{ Id: 105, Name: "ActionExecuted" }] Executed action "ApiWithMutlipleApis.Controllers.ServiceApiCallsController.Get (ApiWithMutlipleApis)" in 2371.3237ms
2023-11-28 19:41:50.235 +01:00 [Information] [Microsoft.AspNetCore.Routing.EndpointMiddleware] [{ Id: 1, Name: "ExecutedEndpoint" }] Executed endpoint '"ApiWithMutlipleApis.Controllers.ServiceApiCallsController.Get (ApiWithMutlipleApis)"'
2023-11-28 19:41:51.876 +01:00 [Error] [Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware] [{ Id: 1, Name: "UnhandledException" }] An unhandled exception has occurred while executing the request.
System.ApplicationException: oh no...
   at ApiWithMutlipleApis.Services.ServiceApiClientService.GetApiDataAsync() in C:\repos\git\damienbod\AzureADAuthRazorUiServiceApiCertificate\AngularAzureADMultipleApis\ApiWithMutlipleApis\Services\ServiceApiClientService.cs:line 45
   at ApiWithMutlipleApis.Controllers.ServiceApiCallsController.Get() in C:\repos\git\damienbod\AzureADAuthRazorUiServiceApiCertificate\AngularAzureADMultipleApis\ApiWithMutlipleApis\Controllers\ServiceApiCallsController.cs:line 25
   at lambda_method16(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextExceptionFilterAsync>g__Awaited|26_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ExceptionContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2023-11-28 19:41:51.894 +01:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2 }] Request finished "HTTP/2" "GET" "https"://"localhost:44390""""/ServiceApiCalls""" - 500 null "text/plain; charset=utf-8" 4625.4474ms
2023-11-28 19:42:29.101 +01:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1 }] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:44390""""/ServiceApiCalls""" - null null
2023-11-28 19:42:29.102 +01:00 [Debug] [Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware] [{ Id: 1, Name: "MethodNotSupported" }] "OPTIONS" requests are not supported
2023-11-28 19:42:29.104 +01:00 [Debug] [Microsoft.AspNetCore.Cors.Infrastructure.CorsService] [{ Id: 2, Name: "RequestHasOriginHeader" }] The request has an origin header: '"https://localhost:4200"'.
2023-11-28 19:42:29.105 +01:00 [Information] [Microsoft.AspNetCore.Cors.Infrastructure.CorsService] [{ Id: 4, Name: "PolicySuccess" }] CORS policy execution successful.
2023-11-28 19:42:29.106 +01:00 [Debug] [Microsoft.AspNetCore.Cors.Infrastructure.CorsService] [{ Id: 1, Name: "IsPreflightRequest" }] The request is a preflight request.
2023-11-28 19:42:29.107 +01:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2 }] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:44390""""/ServiceApiCalls""" - 204 null null 7.5128ms
2023-11-28 19:42:29.113 +01:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1 }] Request starting "HTTP/2" "GET" "https"://"localhost:44390""""/ServiceApiCalls""" - null null
2023-11-28 19:42:29.114 +01:00 [Debug] [Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware] [{ Id: 4, Name: "FileTypeNotSupported" }] The request path "/ServiceApiCalls" does not match a supported file type
2023-11-28 19:42:29.115 +01:00 [Debug] [Microsoft.AspNetCore.Cors.Infrastructure.CorsService] [{ Id: 2, Name: "RequestHasOriginHeader" }] The request has an origin header: '"https://localhost:4200"'.
2023-11-28 19:42:29.117 +01:00 [Information] [Microsoft.AspNetCore.Cors.Infrastructure.CorsService] [{ Id: 4, Name: "PolicySuccess" }] CORS policy execution successful.
2023-11-28 19:42:29.117 +01:00 [Debug] [Microsoft.AspNetCore.Routing.Matching.DfaMatcher] [{ Id: 1001, Name: "CandidatesFound" }] 1 candidate(s) found for the request path '"/ServiceApiCalls"'
2023-11-28 19:42:29.119 +01:00 [Debug] [Microsoft.AspNetCore.Routing.Matching.DfaMatcher] [{ Id: 1005, Name: "CandidateValid" }] Endpoint '"ApiWithMutlipleApis.Controllers.ServiceApiCallsController.Get (ApiWithMutlipleApis)"' with route pattern '"ServiceApiCalls"' is valid for the request path '"/ServiceApiCalls"'
2023-11-28 19:42:29.120 +01:00 [Debug] [Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware] [{ Id: 1, Name: "MatchSuccess" }] Request matched endpoint '"ApiWithMutlipleApis.Controllers.ServiceApiCallsController.Get (ApiWithMutlipleApis)"'
2023-11-28 19:42:29.122 +01:00 [Information] [Microsoft.IdentityModel.LoggingExtensions.IdentityLoggerAdapter] [] IDX10242: Security token: '[Security Artifact of type 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken' is hidden. For more details, see https://aka.ms/IdentityModel/SecurityArtifactLogging.]' has a valid signature.
2023-11-28 19:42:29.122 +01:00 [Debug] [Microsoft.IdentityModel.LoggingExtensions.IdentityLoggerAdapter] [] IDX10237: ValidateIssuerSigningKey property on ValidationParameters is set to false. Exiting without validating the issuer signing key.
2023-11-28 19:42:29.123 +01:00 [Information] [Microsoft.IdentityModel.LoggingExtensions.IdentityLoggerAdapter] [] IDX10239: Lifetime of the token is valid.
2023-11-28 19:42:29.124 +01:00 [Information] [Microsoft.IdentityModel.LoggingExtensions.IdentityLoggerAdapter] [] IDX10234: Audience Validated.Audience: '2b50a014-f353-4c10-aace-024f19a55569'
2023-11-28 19:42:29.125 +01:00 [Debug] [Microsoft.IdentityModel.LoggingExtensions.IdentityLoggerAdapter] [] IDX10246: ValidateTokenReplay property on ValidationParameters is set to false. Exiting without validating the token replay.
2023-11-28 19:42:29.125 +01:00 [Debug] [Microsoft.IdentityModel.LoggingExtensions.IdentityLoggerAdapter] [] IDX10255: TypeValidator property on ValidationParameters is null and ValidTypes is either null or empty. Exiting without validating the token type.
2023-11-28 19:42:29.126 +01:00 [Information] [Microsoft.IdentityModel.LoggingExtensions.IdentityLoggerAdapter] [] IDX10245: Creating claims identity from the validated token: '[Security Artifact of type 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken' is hidden. For more details, see https://aka.ms/IdentityModel/SecurityArtifactLogging.]'.
2023-11-28 19:42:29.127 +01:00 [Debug] [Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler] [{ Id: 2, Name: "TokenValidationSucceeded" }] Successfully validated the token.
2023-11-28 19:42:29.128 +01:00 [Debug] [Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler] [{ Id: 8, Name: "AuthenticationSchemeAuthenticated" }] AuthenticationScheme: "Bearer" was successfully authenticated.
2023-11-28 19:42:29.129 +01:00 [Debug] [Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler] [{ Id: 8, Name: "AuthenticationSchemeAuthenticated" }] AuthenticationScheme: "Bearer" was successfully authenticated.
2023-11-28 19:42:29.129 +01:00 [Debug] [Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] [{ Id: 1, Name: "UserAuthorizationSucceeded" }] Authorization was successful.
2023-11-28 19:42:29.130 +01:00 [Information] [Microsoft.AspNetCore.Routing.EndpointMiddleware] [{ Name: "ExecutingEndpoint" }] Executing endpoint '"ApiWithMutlipleApis.Controllers.ServiceApiCallsController.Get (ApiWithMutlipleApis)"'
2023-11-28 19:42:29.131 +01:00 [Information] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] [{ Id: 102, Name: "ControllerActionExecuting" }] Route matched with "{action = \"Get\", controller = \"ServiceApiCalls\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[System.String]] Get()" on controller "ApiWithMutlipleApis.Controllers.ServiceApiCallsController" ("ApiWithMutlipleApis").
2023-11-28 19:42:29.131 +01:00 [Debug] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] [{ Id: 1, Name: "FilterExecutionPlan" }] Execution plan of "authorization" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter"]
2023-11-28 19:42:29.132 +01:00 [Debug] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] [{ Id: 1, Name: "FilterExecutionPlan" }] Execution plan of "resource" filters (in the following order): ["None"]
2023-11-28 19:42:29.133 +01:00 [Debug] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] [{ Id: 1, Name: "FilterExecutionPlan" }] Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-11-28 19:42:29.134 +01:00 [Debug] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] [{ Id: 1, Name: "FilterExecutionPlan" }] Execution plan of "exception" filters (in the following order): ["Microsoft.Identity.Web.AuthorizeForScopesAttribute (Order: 0)"]
2023-11-28 19:42:29.135 +01:00 [Debug] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] [{ Id: 1, Name: "FilterExecutionPlan" }] Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-11-28 19:42:29.136 +01:00 [Debug] [Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler] [{ Id: 8, Name: "AuthenticationSchemeAuthenticated" }] AuthenticationScheme: "Bearer" was successfully authenticated.
2023-11-28 19:42:29.137 +01:00 [Debug] [Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] [{ Id: 1, Name: "UserAuthorizationSucceeded" }] Authorization was successful.
2023-11-28 19:42:29.138 +01:00 [Debug] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] [{ Id: 1, Name: "ControllerFactoryExecuting" }] Executing controller factory for controller "ApiWithMutlipleApis.Controllers.ServiceApiCallsController" ("ApiWithMutlipleApis")
2023-11-28 19:42:29.139 +01:00 [Debug] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] [{ Id: 2, Name: "ControllerFactoryExecuted" }] Executed controller factory for controller "ApiWithMutlipleApis.Controllers.ServiceApiCallsController" ("ApiWithMutlipleApis")
2023-11-28 19:42:29.203 +01:00 [Information] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] [{ Id: 101, Name: "ActionMethodExecuting" }] Executing action method "ApiWithMutlipleApis.Controllers.ServiceApiCallsController.Get (ApiWithMutlipleApis)" - Validation state: Valid
2023-11-28 19:42:29.205 +01:00 [Debug] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:42:29Z] ConfidentialClientApplication 62472028 created
2023-11-28 19:42:29.206 +01:00 [Information] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:42:29Z - eb81c59a-9b18-4581-8b36-bfa389f334f5] MSAL MSAL.NetCore with assembly version '4.57.0.0'. CorrelationId(eb81c59a-9b18-4581-8b36-bfa389f334f5)
2023-11-28 19:42:29.207 +01:00 [Information] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:42:29Z - eb81c59a-9b18-4581-8b36-bfa389f334f5] === AcquireTokenForClientParameters ===
SendX5C: False
ForceRefresh: False

2023-11-28 19:42:29.208 +01:00 [Information] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:42:29Z - eb81c59a-9b18-4581-8b36-bfa389f334f5] 
=== Request Data ===
Authority Provided? - True
Scopes - api://b178f3a5-7588-492a-924f-72d7887b7e48/.default
Extra Query Params Keys (space separated) - 
ApiId - AcquireTokenForClient
IsConfidentialClient - True
SendX5C - False
LoginHint ? False
IsBrokerConfigured - False
HomeAccountId - False
CorrelationId - eb81c59a-9b18-4581-8b36-bfa389f334f5
UserAssertion set: False
LongRunningOboCacheKey set: False
Region configured: 

2023-11-28 19:42:29.210 +01:00 [Information] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:42:29Z - eb81c59a-9b18-4581-8b36-bfa389f334f5] === Token Acquisition (ClientCredentialRequest) started:
	 Scopes: api://b178f3a5-7588-492a-924f-72d7887b7e48/.default
	Authority Host: login.microsoftonline.com
2023-11-28 19:42:29.211 +01:00 [Information] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:42:29Z - eb81c59a-9b18-4581-8b36-bfa389f334f5] [Internal cache] Total number of cache partitions found while getting access tokens: 1
2023-11-28 19:42:29.212 +01:00 [Information] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:42:29Z - eb81c59a-9b18-4581-8b36-bfa389f334f5] [FindAccessTokenAsync] Discovered 1 access tokens in cache using partition key: 2b50a014-f353-4c10-aace-024f19a55569_7ff95b15-dc21-4ba6-bc92-824856578fc1_AppTokenCache
2023-11-28 19:42:29.212 +01:00 [Debug] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:42:29Z - eb81c59a-9b18-4581-8b36-bfa389f334f5] Filtering AT by tenant id - item count before: 1 
2023-11-28 19:42:29.213 +01:00 [Debug] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:42:29Z - eb81c59a-9b18-4581-8b36-bfa389f334f5] Filtering AT by tenant id - item count after: 1 
2023-11-28 19:42:29.214 +01:00 [Debug] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:42:29Z - eb81c59a-9b18-4581-8b36-bfa389f334f5] Filtering by token type - item count before: 1 
2023-11-28 19:42:29.214 +01:00 [Debug] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:42:29Z - eb81c59a-9b18-4581-8b36-bfa389f334f5] Filtering by token type - item count after: 1 
2023-11-28 19:42:29.215 +01:00 [Debug] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:42:29Z - eb81c59a-9b18-4581-8b36-bfa389f334f5] Filtering by scopes - item count before: 1 
2023-11-28 19:42:29.216 +01:00 [Debug] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:42:29Z - eb81c59a-9b18-4581-8b36-bfa389f334f5] Access token with scopes api://b178f3a5-7588-492a-924f-72d7887b7e48/.default passes scope filter? True 
2023-11-28 19:42:29.218 +01:00 [Debug] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:42:29Z - eb81c59a-9b18-4581-8b36-bfa389f334f5] Filtering by scopes - item count after: 1 
2023-11-28 19:42:29.218 +01:00 [Debug] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:42:29Z - eb81c59a-9b18-4581-8b36-bfa389f334f5] [Region discovery] WithAzureRegion not configured. 
2023-11-28 19:42:29.219 +01:00 [Information] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:42:29Z - eb81c59a-9b18-4581-8b36-bfa389f334f5] [Region discovery] Not using a regional authority. 
2023-11-28 19:42:29.220 +01:00 [Debug] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:42:29Z - eb81c59a-9b18-4581-8b36-bfa389f334f5] [Instance Discovery] Tried to use network cache provider for login.microsoftonline.com. Success? True. 
2023-11-28 19:42:29.220 +01:00 [Debug] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:42:29Z - eb81c59a-9b18-4581-8b36-bfa389f334f5] Filtering AT by preferred environment login.windows.net - item count before: 1 
2023-11-28 19:42:29.221 +01:00 [Debug] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:42:29Z - eb81c59a-9b18-4581-8b36-bfa389f334f5] Filtering AT by preferred environment login.windows.net - item count after: 1 
2023-11-28 19:42:29.222 +01:00 [Debug] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:42:29Z - eb81c59a-9b18-4581-8b36-bfa389f334f5] Filtered AT by preferred alias returning 1 tokens.
2023-11-28 19:42:29.224 +01:00 [Debug] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:42:29Z - eb81c59a-9b18-4581-8b36-bfa389f334f5] Bearer token found
2023-11-28 19:42:29.225 +01:00 [Information] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:42:29Z - eb81c59a-9b18-4581-8b36-bfa389f334f5] Access token is not expired. Returning the found cache entry. [Current time (11/28/2023 18:42:29) - Expiration Time (11/28/2023 19:41:08 +00:00) - Extended Expiration Time (11/28/2023 19:41:08 +00:00)]
2023-11-28 19:42:29.226 +01:00 [Information] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:42:29Z - eb81c59a-9b18-4581-8b36-bfa389f334f5] 
	=== Token Acquisition finished successfully:
2023-11-28 19:42:29.226 +01:00 [Information] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:42:29Z - eb81c59a-9b18-4581-8b36-bfa389f334f5]  AT expiration time: 28.11.2023 19:41:08 +00:00, scopes: api://b178f3a5-7588-492a-924f-72d7887b7e48/.default. source: Cache
2023-11-28 19:42:29.227 +01:00 [Information] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:42:29Z - eb81c59a-9b18-4581-8b36-bfa389f334f5] 
[LogMetricsFromAuthResult] Cache Refresh Reason: NotApplicable
[LogMetricsFromAuthResult] DurationInCacheInMs: 0
[LogMetricsFromAuthResult] DurationTotalInMs: 18
[LogMetricsFromAuthResult] DurationInHttpInMs: 0

2023-11-28 19:42:29.228 +01:00 [Information] [Microsoft.Identity.Web.TokenAcquisition] [] False MSAL 4.57.0.0 MSAL.NetCore .NET 8.0.0 Microsoft Windows 10.0.22621 [2023-11-28 18:42:29Z - eb81c59a-9b18-4581-8b36-bfa389f334f5] TokenEndpoint: ****
2023-11-28 19:42:29.228 +01:00 [Information] [System.Net.Http.HttpClient.Default.LogicalHandler] [{ Id: 100, Name: "RequestPipelineStart" }] Start processing HTTP request "GET" "https://localhost:44324/ApiForServiceData"
2023-11-28 19:42:29.229 +01:00 [Information] [System.Net.Http.HttpClient.Default.ClientHandler] [{ Id: 100, Name: "RequestStart" }] Sending HTTP request "GET" "https://localhost:44324/ApiForServiceData"
2023-11-28 19:42:29.373 +01:00 [Information] [System.Net.Http.HttpClient.Default.ClientHandler] [{ Id: 101, Name: "RequestEnd" }] Received HTTP response headers after 143.8422ms - 403
2023-11-28 19:42:29.374 +01:00 [Information] [System.Net.Http.HttpClient.Default.LogicalHandler] [{ Id: 101, Name: "RequestPipelineEnd" }] End processing HTTP request after 145.421ms - 403
2023-11-28 19:42:55.454 +01:00 [Information] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] [{ Id: 105, Name: "ActionExecuted" }] Executed action "ApiWithMutlipleApis.Controllers.ServiceApiCallsController.Get (ApiWithMutlipleApis)" in 26316.5976ms
2023-11-28 19:42:55.714 +01:00 [Information] [Microsoft.AspNetCore.Routing.EndpointMiddleware] [{ Id: 1, Name: "ExecutedEndpoint" }] Executed endpoint '"ApiWithMutlipleApis.Controllers.ServiceApiCallsController.Get (ApiWithMutlipleApis)"'
2023-11-28 19:42:56.466 +01:00 [Error] [Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware] [{ Id: 1, Name: "UnhandledException" }] An unhandled exception has occurred while executing the request.
System.ApplicationException: oh no...
   at ApiWithMutlipleApis.Services.ServiceApiClientService.GetApiDataAsync() in C:\repos\git\damienbod\AzureADAuthRazorUiServiceApiCertificate\AngularAzureADMultipleApis\ApiWithMutlipleApis\Services\ServiceApiClientService.cs:line 45
   at ApiWithMutlipleApis.Controllers.ServiceApiCallsController.Get() in C:\repos\git\damienbod\AzureADAuthRazorUiServiceApiCertificate\AngularAzureADMultipleApis\ApiWithMutlipleApis\Controllers\ServiceApiCallsController.cs:line 25
   at lambda_method16(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextExceptionFilterAsync>g__Awaited|26_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ExceptionContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2023-11-28 19:42:56.475 +01:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2 }] Request finished "HTTP/2" "GET" "https"://"localhost:44390""""/ServiceApiCalls""" - 500 null "text/plain; charset=utf-8" 27361.9427ms
2023-11-28 19:42:56.739 +01:00 [Debug] [Microsoft.Extensions.Http.DefaultHttpClientFactory] [{ Id: 103, Name: "HandlerExpired" }] HttpMessageHandler expired after 120000ms for client '"GraphServiceClient"'
2023-11-28 19:42:58.292 +01:00 [Debug] [Microsoft.Extensions.Http.DefaultHttpClientFactory] [{ Id: 103, Name: "HandlerExpired" }] HttpMessageHandler expired after 120000ms for client '""'
2023-11-28 19:43:00.972 +01:00 [Debug] [Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets] [{ Id: 6, Name: "ConnectionReadFin" }] Connection id ""0HMVG85843CGS"" received FIN.
2023-11-28 19:43:00.995 +01:00 [Debug] [Microsoft.AspNetCore.Server.Kestrel.Http2] [{ Id: 48, Name: "Http2ConnectionClosed" }] Connection id ""0HMVG85843CGS"" is closed. The last processed stream ID was 27.
2023-11-28 19:43:00.996 +01:00 [Debug] [Microsoft.AspNetCore.Server.Kestrel.Http2] [{ Id: 62, Name: "Http2ConnectionQueueProcessingCompleted" }] The connection queue processing loop for "0HMVG85843CGS" completed.
2023-11-28 19:43:00.998 +01:00 [Debug] [Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets] [{ Id: 7, Name: "ConnectionWriteFin" }] Connection id ""0HMVG85843CGS"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2023-11-28 19:43:01.003 +01:00 [Debug] [Microsoft.AspNetCore.Server.Kestrel.Connections] [{ Id: 2, Name: "ConnectionStop" }] Connection id ""0HMVG85843CGS"" stopped.
2023-11-28 19:43:06.758 +01:00 [Debug] [Microsoft.Extensions.Http.DefaultHttpClientFactory] [{ Id: 100, Name: "CleanupCycleStart" }] Starting HttpMessageHandler cleanup cycle with 2 items
2023-11-28 19:43:06.764 +01:00 [Debug] [Microsoft.Extensions.Http.DefaultHttpClientFactory] [{ Id: 101, Name: "CleanupCycleEnd" }] Ending HttpMessageHandler cleanup cycle after 0.0732ms - processed: 0 items - remaining: 2 items
2023-11-28 19:43:16.779 +01:00 [Debug] [Microsoft.Extensions.Http.DefaultHttpClientFactory] [{ Id: 100, Name: "CleanupCycleStart" }] Starting HttpMessageHandler cleanup cycle with 2 items
2023-11-28 19:43:16.780 +01:00 [Debug] [Microsoft.Extensions.Http.DefaultHttpClientFactory] [{ Id: 101, Name: "CleanupCycleEnd" }] Ending HttpMessageHandler cleanup cycle after 0.0041ms - processed: 0 items - remaining: 2 items
2023-11-28 19:43:26.789 +01:00 [Debug] [Microsoft.Extensions.Http.DefaultHttpClientFactory] [{ Id: 100, Name: "CleanupCycleStart" }] Starting HttpMessageHandler cleanup cycle with 2 items
2023-11-28 19:43:26.791 +01:00 [Debug] [Microsoft.Extensions.Http.DefaultHttpClientFactory] [{ Id: 101, Name: "CleanupCycleEnd" }] Ending HttpMessageHandler cleanup cycle after 0.0045ms - processed: 0 items - remaining: 2 items
2023-11-28 19:43:36.802 +01:00 [Debug] [Microsoft.Extensions.Http.DefaultHttpClientFactory] [{ Id: 100, Name: "CleanupCycleStart" }] Starting HttpMessageHandler cleanup cycle with 2 items
2023-11-28 19:43:36.804 +01:00 [Debug] [Microsoft.Extensions.Http.DefaultHttpClientFactory] [{ Id: 101, Name: "CleanupCycleEnd" }] Ending HttpMessageHandler cleanup cycle after 0.0052ms - processed: 0 items - remaining: 2 items
2023-11-28 19:43:46.821 +01:00 [Debug] [Microsoft.Extensions.Http.DefaultHttpClientFactory] [{ Id: 100, Name: "CleanupCycleStart" }] Starting HttpMessageHandler cleanup cycle with 2 items
2023-11-28 19:43:46.821 +01:00 [Debug] [Microsoft.Extensions.Http.DefaultHttpClientFactory] [{ Id: 101, Name: "CleanupCycleEnd" }] Ending HttpMessageHandler cleanup cycle after 0.0055ms - processed: 0 items - remaining: 2 items
2023-11-28 19:43:56.832 +01:00 [Debug] [Microsoft.Extensions.Http.DefaultHttpClientFactory] [{ Id: 100, Name: "CleanupCycleStart" }] Starting HttpMessageHandler cleanup cycle with 2 items
2023-11-28 19:43:56.833 +01:00 [Debug] [Microsoft.Extensions.Http.DefaultHttpClientFactory] [{ Id: 101, Name: "CleanupCycleEnd" }] Ending HttpMessageHandler cleanup cycle after 0.0075ms - processed: 0 items - remaining: 2 items
